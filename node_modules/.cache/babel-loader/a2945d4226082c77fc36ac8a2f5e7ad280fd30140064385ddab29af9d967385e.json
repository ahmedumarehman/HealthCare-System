{"ast":null,"code":"import _objectSpread from\"D:/DATA/CAREER/INTERNSHIPS/EMRChains Internship NSTP/PROJECTS/HEALTHCARE_SYSTEM/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Badge from'../UI/Badge';import Timer from'../UI/Timer';import{RoleBasedAccessService}from'../../services/rbacService';import{EncryptionService}from'../../services/encryption';import{sharedStateService}from'../../services/sharedState';import{pdfService}from'../../services/pdfService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DoctorDashboard=_ref=>{let{user,onLogout}=_ref;const[sessionTimeLeft]=useState(1800);const[rbacService]=useState(new RoleBasedAccessService());const[activeTab,setActiveTab]=useState('patients');// Modal states\nconst[showCreateRecordModal,setShowCreateRecordModal]=useState(false);const[showClaimModal,setShowClaimModal]=useState(false);const[,setSelectedPatientId]=useState('');// Security states\nconst[clipboardMonitoring,setClipboardMonitoring]=useState(false);const[encryptedRecords,setEncryptedRecords]=useState({});const[recordEncryptionStatus,setRecordEncryptionStatus]=useState({});const[selectedFiles,setSelectedFiles]=useState([]);// Form states\nconst[newRecordForm,setNewRecordForm]=useState({patientId:'',title:'',description:'',diagnosis:'',prescription:'',notes:''});const[newClaimForm,setNewClaimForm]=useState({patientId:'',amount:'',description:'',insuranceProvider:''});const[myPatients,setMyPatients]=useState([]);const[recentRecords,setRecentRecords]=useState([]);// Initialize data from shared state service\nuseEffect(()=>{const patients=sharedStateService.getPatients();// Get ALL medical records (not just doctor's own records) so doctor can see patient-added records\nconst allRecords=sharedStateService.getMedicalRecords();setMyPatients(patients);setRecentRecords(allRecords);// Subscribe to changes\nconst unsubscribePatients=sharedStateService.onPatientsChange(setMyPatients);const unsubscribeRecords=sharedStateService.onMedicalRecordsChange(allRecords=>{// Show all records so doctor can see patient-added records\nsetRecentRecords(allRecords);});return()=>{unsubscribePatients();unsubscribeRecords();};},[user.id]);const[insuranceClaims]=useState([{id:'claim-1',claimNumber:'CLM-2025-001',patientId:'patient-1',providerId:user.id,doctorId:user.id,insuranceCompany:'HealthFirst Insurance',insuranceProvider:'HealthFirst Insurance',amount:450.00,status:'approved',submittedAt:'2025-07-01T10:00:00Z',submissionDate:'2025-07-01',approvalDate:'2025-07-03',description:'Annual physical examination and blood work',relatedRecords:['record-1'],smartContractAddress:'0x1234567890abcdef1234567890abcdef12345678',blockchainTxId:'0xabc123def456789abcdef123456789abc123def456789abcdef',isProcessedOnChain:true,approvalSignatures:[],ipfsDocuments:[]},{id:'claim-2',claimNumber:'CLM-2025-002',patientId:'patient-2',providerId:user.id,doctorId:user.id,insuranceCompany:'MediCare Plus',insuranceProvider:'MediCare Plus',amount:275.50,status:'pending',submittedAt:'2025-07-04T14:30:00Z',submissionDate:'2025-07-04',description:'Follow-up consultation and medication review',relatedRecords:['record-2'],smartContractAddress:'0x1234567890abcdef1234567890abcdef12345678',blockchainTxId:'0xdef456abc789123def456abc789123def456abc789123def',isProcessedOnChain:false,approvalSignatures:[],ipfsDocuments:[]}]);const[nftRecords]=useState([{id:'nft-1',tokenId:'HEALTH-NFT-001',patientId:'patient-1',recordId:'record-1',name:'Annual Physical 2025',description:'Comprehensive health examination record',imageUrl:'https://via.placeholder.com/200x200/4F46E5/FFFFFF?text=NFT-001',metadataUri:'ipfs://QmX9ZB7tRvWKHGK8P2mNv3qL5rA9wS6cF4dE2gH1jK0mP',contractAddress:'0x9876543210fedcba9876543210fedcba98765432',blockchainNetwork:'Ethereum',mintDate:'2025-07-04T10:30:00Z',currentOwner:'patient-1',isTransferable:false,accessLevel:'doctor_patient'},{id:'nft-2',tokenId:'HEALTH-NFT-002',patientId:'patient-2',recordId:'record-2',name:'Follow-up Consultation',description:'Treatment follow-up and medication adjustment',imageUrl:'https://via.placeholder.com/200x200/059669/FFFFFF?text=NFT-002',metadataUri:'ipfs://QmY8AX6sRvWKHGK8P2mNv3qL5rA9wS6cF4dE2gH1jK0nQ',contractAddress:'0x9876543210fedcba9876543210fedcba98765432',blockchainNetwork:'Ethereum',mintDate:'2025-07-03T14:45:00Z',currentOwner:'patient-2',isTransferable:false,accessLevel:'doctor_patient'}]);useEffect(()=>{rbacService.setCurrentUser(user);},[user,rbacService]);const handleSessionExpire=()=>{window.confirm('Session expired for security. Please login again.')&&onLogout();};const handleCreateRecord=()=>{setShowCreateRecordModal(true);};const handleSubmitInsuranceClaim=patientId=>{setSelectedPatientId(patientId);setNewClaimForm(prev=>_objectSpread(_objectSpread({},prev),{},{patientId}));setShowClaimModal(true);};const handleMintNFT=recordId=>{alert(\"NFT minting initiated for record \".concat(recordId,\". This will create a secure, immutable NFT on the blockchain.\"));console.log(\"Minting NFT for record: \".concat(recordId));};const handleViewHistory=patientId=>{const patient=myPatients.find(p=>p.id===patientId);const patientRecords=recentRecords.filter(record=>record.patientId===patientId);if(patient&&patientRecords.length>0){const historyDetails=patientRecords.map(record=>\"\\uD83D\\uDCCB \".concat(record.title,\" (\").concat(record.date,\")\\n   Diagnosis: \").concat(record.diagnosis,\"\\n   Prescription: \").concat(record.prescription)).join('\\n\\n');alert(\"\\uD83D\\uDC65 Medical History for \".concat(patient.name,\"\\n\\uD83D\\uDCE7 Email: \").concat(patient.email,\"\\n\\uD83C\\uDF82 DOB: \").concat(patient.dateOfBirth,\"\\n\\uD83C\\uDFE5 Insurance: \").concat(patient.insuranceProvider,\"\\n\\uD83D\\uDCDE Phone: \").concat(patient.phoneNumber,\"\\n\\uD83C\\uDFE0 Address: \").concat(patient.address,\"\\n\\uD83D\\uDEA8 Emergency Contact: \").concat(patient.emergencyContact,\"\\n\\uD83D\\uDCC5 Last Visit: \").concat(patient.lastVisit,\"\\n\\u23ED\\uFE0F Next Appointment: \").concat(patient.upcomingAppointment,\"\\n\\n\\uD83D\\uDCCB MEDICAL RECORDS:\\n\").concat(historyDetails,\"\\n\\nTotal Records: \").concat(patientRecords.length));}else{alert(\"No medical history found for this patient.\");}};const handleEncryptRecord=recordId=>{const record=recentRecords.find(r=>r.id===recordId);if(record){var _myPatients$find;// Check if already encrypted\nif(recordEncryptionStatus[recordId]){alert('⚠️ This record is already encrypted. Please decrypt it first if you want to re-encrypt with a different password.');return;}const password=prompt(\"\\uD83D\\uDD12 Enter a password to encrypt \\\"\".concat(record.title,\"\\\" for patient: \").concat(((_myPatients$find=myPatients.find(p=>p.id===record.patientId))===null||_myPatients$find===void 0?void 0:_myPatients$find.name)||record.patientId));if(password&&password.trim()){try{var _myPatients$find2;// Create a custom encryption service with the user's password\nconst customEncryption=new EncryptionService();const recordData=_objectSpread(_objectSpread({},record),{},{encryptedBy:user.name,encryptedAt:new Date().toISOString()});// Use password-based encryption\nconst salt=customEncryption.generateSalt();customEncryption.deriveKey(password,salt);// Generate derived key for security\nconst encryptedData=customEncryption.encryptData(JSON.stringify(recordData));// Store the encrypted data and metadata\nsetEncryptedRecords(prev=>_objectSpread(_objectSpread({},prev),{},{[recordId]:encryptedData}));setRecordEncryptionStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[recordId]:true}));alert(\"\\uD83D\\uDD12 SUCCESS! Record \\\"\".concat(record.title,\"\\\" has been encrypted with your custom password.\\n                    \\n\\uD83D\\uDCCB Record: \").concat(record.title,\"\\n\\uD83D\\uDC64 Patient: \").concat((_myPatients$find2=myPatients.find(p=>p.id===record.patientId))===null||_myPatients$find2===void 0?void 0:_myPatients$find2.name,\"\\n\\uD83D\\uDD10 Status: ENCRYPTED\\n\\uD83D\\uDEE1\\uFE0F Security Level: AES-256 + Password Protection\\n\\uD83D\\uDCC5 Encrypted At: \").concat(new Date().toLocaleString(),\"\\n\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Encrypted By: \").concat(user.name,\"\\n\\n\\u26A0\\uFE0F Remember your password - it will be required for decryption!\"));}catch(error){alert('❌ Encryption failed. Please try again.');}}else{alert('❌ Password is required for encryption.');}}};const handleDecryptRecord=recordId=>{// Check if record is encrypted\nif(!recordEncryptionStatus[recordId]){alert('ℹ️ This record is not encrypted. No decryption needed.');return;}const encryptedData=encryptedRecords[recordId];if(encryptedData){const password=prompt(\"\\uD83D\\uDD13 Enter the password to decrypt this record:\");if(password&&password.trim()){try{var _myPatients$find3;const customEncryption=new EncryptionService();// For demo purposes, we'll try to decrypt with the provided password\n// In a real system, you'd verify the password against the stored hash\nconst decryptedData=customEncryption.decryptData(encryptedData);const record=JSON.parse(decryptedData);alert(\"\\uD83D\\uDD13 DECRYPTION SUCCESSFUL!\\n\\n\\uD83D\\uDCCB Title: \".concat(record.title,\"\\n\\uD83D\\uDC64 Patient: \").concat(((_myPatients$find3=myPatients.find(p=>p.id===record.patientId))===null||_myPatients$find3===void 0?void 0:_myPatients$find3.name)||record.patientId,\"\\n\\uD83D\\uDCC5 Date: \").concat(record.date,\"\\n\\uD83E\\uDE7A Diagnosis: \").concat(record.diagnosis,\"\\n\\uD83D\\uDC8A Prescription: \").concat(record.prescription,\"\\n\\uD83D\\uDCDD Description: \").concat(record.description,\"\\n\\n\\uD83D\\uDD12 Encryption Details:\\n\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Encrypted By: \").concat(record.encryptedBy||'Unknown',\"\\n\\uD83D\\uDCC5 Encrypted At: \").concat(record.encryptedAt?new Date(record.encryptedAt).toLocaleString():'Unknown',\"\\n\\uD83D\\uDEE1\\uFE0F Security: Password-protected AES-256\"));// Ask if user wants to permanently decrypt\nconst permanentDecrypt=window.confirm('🔓 Do you want to permanently decrypt this record? (This will remove encryption)');if(permanentDecrypt){setEncryptedRecords(prev=>{const updated=_objectSpread({},prev);delete updated[recordId];return updated;});setRecordEncryptionStatus(prev=>_objectSpread(_objectSpread({},prev),{},{[recordId]:false}));alert('✅ Record has been permanently decrypted and is now in plain text.');}}catch(error){alert('❌ Decryption failed. Incorrect password or corrupted data.');}}else{alert('❌ Password is required for decryption.');}}else{alert('❌ No encrypted data found for this record.');}};const handleViewRecord=recordId=>{const record=recentRecords.find(r=>r.id===recordId);if(record){const isEncrypted=recordEncryptionStatus[recordId];const patient=myPatients.find(p=>p.id===record.patientId);if(isEncrypted){const viewEncrypted=window.confirm(\"\\uD83D\\uDD12 This record is encrypted. \\n\\nDo you want to:\\n- Click \\\"OK\\\" to view encrypted version\\n- Click \\\"Cancel\\\" to decrypt and view\");if(viewEncrypted){// Show encrypted version\nalert(\"\\uD83D\\uDD12 ENCRYPTED RECORD VIEW\\n\\n\\uD83D\\uDCCB Title: \".concat(record.title,\"\\n\\uD83D\\uDC64 Patient: \").concat((patient===null||patient===void 0?void 0:patient.name)||record.patientId,\"\\n\\uD83D\\uDCC5 Date: \").concat(record.date,\"\\n\\uD83D\\uDD10 Status: ENCRYPTED\\n\\uD83D\\uDEE1\\uFE0F Security: Password Protected\\n\\n\\u26A0\\uFE0F Content is encrypted and cannot be displayed in plain text.\\nUse the decrypt button to view the full content.\"));}else{// Trigger decryption process\nhandleDecryptRecord(recordId);}}else{// Show full record details\nalert(\"\\uD83D\\uDC41\\uFE0F MEDICAL RECORD DETAILS\\n\\n\\uD83D\\uDCCB Title: \".concat(record.title,\"\\n\\uD83D\\uDC64 Patient: \").concat((patient===null||patient===void 0?void 0:patient.name)||record.patientId,\"\\n\\uD83D\\uDCE7 Email: \").concat((patient===null||patient===void 0?void 0:patient.email)||'N/A',\"\\n\\uD83D\\uDCC5 Date: \").concat(record.date,\"\\n\\uD83E\\uDE7A Diagnosis: \").concat(record.diagnosis,\"\\n\\uD83D\\uDC8A Prescription: \").concat(record.prescription,\"\\n\\uD83D\\uDCDD Description: \").concat(record.description,\"\\n\\n\\uD83D\\uDD17 Blockchain Details:\\n\\uD83E\\uDDF1 Hash: \").concat(record.blockchainHash||'N/A',\"\\n\\uD83D\\uDCCE IPFS: \").concat(record.ipfsHash||'N/A',\"\\n\\uD83C\\uDFA8 NFT Token: \").concat(record.nftTokenId||'Not minted',\"\\n\\u2705 Verified: \").concat(record.isVerified?'Yes':'No',\"\\n\\uD83D\\uDD10 Encryption: Not encrypted\"));}}};const toggleClipboardMonitoring=()=>{const newState=!clipboardMonitoring;setClipboardMonitoring(newState);if(newState){alert('🔍 Clipboard monitoring enabled. The system will monitor for suspicious wallet addresses.');// In a real application, you would start actual clipboard monitoring here\n}else{alert('⏹️ Clipboard monitoring disabled.');}};const handleViewInsuranceClaim=claimId=>{const claim=insuranceClaims.find(c=>c.id===claimId);if(claim){const patient=myPatients.find(p=>p.id===claim.patientId);alert(\"\\uD83D\\uDCB0 Insurance Claim Details\\n\\n\\uD83D\\uDCCB Claim Number: \".concat(claim.claimNumber,\"\\n\\uD83D\\uDC64 Patient: \").concat((patient===null||patient===void 0?void 0:patient.name)||claim.patientId,\"\\n\\uD83D\\uDCB5 Amount: $\").concat(claim.amount.toFixed(2),\"\\n\\uD83D\\uDCCA Status: \").concat(claim.status.toUpperCase(),\"\\n\\uD83C\\uDFE5 Insurance Provider: \").concat(claim.insuranceProvider,\"\\n\\uD83D\\uDCC5 Submitted: \").concat(claim.submissionDate,\"\\n\").concat(claim.approvalDate?\"\\u2705 Approved: \".concat(claim.approvalDate):'⏳ Pending approval',\"\\n\\uD83D\\uDCDD Description: \").concat(claim.description||'No description provided',\"\\n\\n\\uD83D\\uDD17 Blockchain Details:\\n\\uD83D\\uDCCB Contract Address: \").concat(claim.smartContractAddress,\"\\n\\uD83C\\uDD94 Transaction ID: \").concat(claim.blockchainTxId,\"\\n\\u26D3\\uFE0F On-Chain Status: \").concat(claim.isProcessedOnChain?'Processed':'Pending',\"\\n\\n\\uD83D\\uDCC4 Related Records: \").concat(claim.relatedRecords.length,\" record(s)\\n\\uD83D\\uDCCE Documents: \").concat(claim.ipfsDocuments.length,\" file(s) on IPFS\"));}};const handleSaveRecord=()=>{if(!newRecordForm.title||!newRecordForm.patientId){alert('Please fill in all required fields');return;}// Find patient details\nconst patient=myPatients.find(p=>p.id===newRecordForm.patientId);if(!patient){alert('Patient not found');return;}// Create new record with proper ID generation\nconst newRecord={id:sharedStateService.generateId('record'),patientId:newRecordForm.patientId,doctorId:user.id,title:newRecordForm.title,description:newRecordForm.description,date:new Date().toISOString().split('T')[0],// Format as YYYY-MM-DD\ndiagnosis:newRecordForm.diagnosis,prescription:newRecordForm.prescription,isEncrypted:false,// Initially not encrypted\nisVerified:true,accessPermissions:[user.id,newRecordForm.patientId],blockchainHash:\"0x\".concat(Date.now().toString(16),\"abc\").concat(Math.random().toString(16).slice(2,8)),ipfsHash:\"Qm\".concat(Math.random().toString(36).slice(2,15)).concat(Date.now().toString(36)),nftTokenId:undefined// Will be set when NFT is minted\n};// Add to shared state (will automatically update all components)\nsharedStateService.addMedicalRecord(newRecord);// Show success message with patient name\nalert(\"\\u2705 Medical record created successfully!\\n\\n\\uD83D\\uDCCB Record: \".concat(newRecord.title,\"\\n\\uD83D\\uDC64 Patient: \").concat(patient.name,\"\\n\\uD83D\\uDCC5 Date: \").concat(newRecord.date,\"\\n\\uD83E\\uDE7A Diagnosis: \").concat(newRecord.diagnosis,\"\\n\\uD83D\\uDC8A Prescription: \").concat(newRecord.prescription,\"\\n\\nThe record has been added to your medical records list and is ready for encryption if needed.\"));setShowCreateRecordModal(false);setNewRecordForm({patientId:'',title:'',description:'',diagnosis:'',prescription:'',notes:''});};const handleSaveClaim=()=>{if(!newClaimForm.amount||!newClaimForm.description){alert('Please fill in all required fields');return;}// Create new insurance claim\n// const newClaim: InsuranceClaim = {\n//     id: `claim-${Date.now()}`,\n//     claimNumber: `CLAIM-${Date.now()}`,\n//     patientId: newClaimForm.patientId,\n//     providerId: user.id,\n//     doctorId: user.id,\n//     insuranceCompany: newClaimForm.insuranceProvider,\n//     insuranceProvider: newClaimForm.insuranceProvider,\n//     amount: parseFloat(newClaimForm.amount),\n//     status: 'pending',\n//     submittedAt: new Date().toISOString(),\n//     submissionDate: new Date().toLocaleDateString(),\n//     description: newClaimForm.description,\n//     relatedRecords: [],\n//     smartContractAddress: '0x1234567890abcdef1234567890abcdef12345678',\n//     blockchainTxId: `0x${Date.now().toString(16)}`,\n//     isProcessedOnChain: false,\n//     approvalSignatures: [],\n//     ipfsDocuments: []\n// };\nalert('Insurance claim submitted successfully!');setShowClaimModal(false);setNewClaimForm({patientId:'',amount:'',description:'',insuranceProvider:''});};const getStatusColor=status=>{switch(status){case'approved':return'success';case'pending':return'warning';case'rejected':return'error';case'paid':return'success';case'under_review':return'info';case'submitted':return'primary';default:return'secondary';}};const handleDownloadPDF=async recordId=>{const record=recentRecords.find(r=>r.id===recordId);if(!record){alert('Record not found');return;}const patient=myPatients.find(p=>p.id===record.patientId);if(!patient){alert('Patient not found');return;}try{// Always download unencrypted PDF (encryption will be done in Security Tools)\nawait pdfService.downloadMedicalRecordPDF(record,patient,{includeWatermark:true,isEncrypted:false,password:''});alert(\"\\u2705 PDF Downloaded Successfully!\\n\\n\\uD83D\\uDCC4 File: medical_record_\".concat(record.id,\"_\").concat(patient.name.replace(/\\s+/g,'_'),\".pdf\\n\\uD83D\\uDD10 Status: UNENCRYPTED (ready for encryption in Security Tools)\\n\\uD83D\\uDEA8 Watermark: CONFIDENTIAL (at top of document)\\n\\uD83D\\uDC64 Patient: \").concat(patient.name,\"\\n\\uD83D\\uDCCB Record: \").concat(record.title,\"\\n\\n\\uD83D\\uDCA1 Next Steps:\\n1. Go to Security Tools tab\\n2. Select this PDF file to encrypt\\n3. Choose a strong password for encryption\\n\\nThe PDF has been saved to your downloads folder.\"));}catch(error){console.error('PDF download error:',error);alert(\"\\u274C Failed to download PDF: \".concat(error instanceof Error?error.message:'Unknown error'));}};const handleDownloadPatientPDF=async patientId=>{const patient=myPatients.find(p=>p.id===patientId);if(!patient){alert('Patient not found');return;}const patientRecords=recentRecords.filter(record=>record.patientId===patientId);if(patientRecords.length===0){alert(\"No medical records found for \".concat(patient.name,\". Create some records first.\"));return;}try{if(patientRecords.length===1){// Single record\nawait pdfService.downloadMedicalRecordPDF(patientRecords[0],patient,{includeWatermark:true,isEncrypted:false,password:''});}else{// Multiple records - use batch PDF\nconst batchPDF=await pdfService.generateBatchPDF(patientRecords,[patient],{includeWatermark:true,isEncrypted:false,password:''});// Create download link for batch PDF\nconst url=URL.createObjectURL(batchPDF);const link=document.createElement('a');link.href=url;const filename=\"medical_records_\".concat(patient.name.replace(/\\s+/g,'_'),\"_batch.pdf\");link.download=filename;document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);}alert(\"\\u2705 PDF Downloaded Successfully!\\n\\n\\uD83D\\uDC64 Patient: \".concat(patient.name,\"\\n\\uD83D\\uDCC4 Records: \").concat(patientRecords.length,\" medical record(s)\\n\\uD83D\\uDD10 Status: UNENCRYPTED (ready for encryption in Security Tools)\\n\\uD83D\\uDEA8 Watermark: CONFIDENTIAL (at top of document)\\n\\n\\uD83D\\uDCA1 Next Steps:\\n1. Go to Security Tools tab\\n2. Select this PDF file to encrypt\\n3. Choose a strong password for encryption\\n\\nThe PDF has been saved to your downloads folder.\"));}catch(error){console.error('PDF download error:',error);alert(\"\\u274C Failed to download PDF: \".concat(error instanceof Error?error.message:'Unknown error'));}};const handleAddNewPatient=()=>{const patientName=prompt('👤 Enter new patient name:');if(!patientName||!patientName.trim()){alert('❌ Patient name is required');return;}const patientEmail=prompt('📧 Enter patient email:');if(!patientEmail||!patientEmail.trim()||!patientEmail.includes('@')){alert('❌ Valid email is required');return;}const patientDOB=prompt('🎂 Enter patient date of birth (YYYY-MM-DD):');if(!patientDOB||!patientDOB.match(/^\\d{4}-\\d{2}-\\d{2}$/)){alert('❌ Date of birth is required in YYYY-MM-DD format');return;}const phoneNumber=prompt('📞 Enter patient phone number:')||'';const address=prompt('🏠 Enter patient address:')||'';const emergencyContact=prompt('🚨 Enter emergency contact (Name - Phone):')||'';const insuranceProvider=prompt('🏥 Enter insurance provider:')||'None';const insurancePolicyNumber=prompt('📄 Enter insurance policy number:')||'';const newPatient={id:sharedStateService.generateId('patient'),name:patientName.trim(),email:patientEmail.trim(),dateOfBirth:patientDOB,phoneNumber:phoneNumber,address:address,emergencyContact:emergencyContact,insuranceProvider:insuranceProvider,insurancePolicyNumber:insurancePolicyNumber,lastVisit:new Date().toISOString().split('T')[0],upcomingAppointment:'To be scheduled',isActive:true};// Add to shared state\nsharedStateService.addPatient(newPatient);alert(\"\\u2705 New patient added successfully!\\n\\n\\uD83D\\uDC64 Name: \".concat(newPatient.name,\"\\n\\uD83D\\uDCE7 Email: \").concat(newPatient.email,\"\\n\\uD83C\\uDF82 DOB: \").concat(newPatient.dateOfBirth,\"\\n\\uD83D\\uDCDE Phone: \").concat(newPatient.phoneNumber,\"\\n\\uD83C\\uDFE5 Insurance: \").concat(newPatient.insuranceProvider,\"\\n\\nThe patient is now available for creating medical records.\"));};const handleViewNFT=nftId=>{const nft=nftRecords.find(n=>n.id===nftId);if(!nft){alert('❌ NFT not found. Please try again.');return;}const patient=myPatients.find(p=>p.id===nft.patientId);const relatedRecord=recentRecords.find(r=>r.id===nft.recordId);alert(\"\\uD83C\\uDFA8 NFT Health Record Details\\n\\n\\uD83C\\uDFF7\\uFE0F Name: \".concat(nft.name,\"\\n\\uD83D\\uDCDD Description: \").concat(nft.description,\"\\n\\uD83C\\uDD94 Token ID: \").concat(nft.tokenId,\"\\n\\uD83D\\uDC64 Patient: \").concat((patient===null||patient===void 0?void 0:patient.name)||nft.patientId,\"\\n\\uD83D\\uDCCB Related Record: \").concat((relatedRecord===null||relatedRecord===void 0?void 0:relatedRecord.title)||nft.recordId,\"\\n\\n\\uD83D\\uDD17 Blockchain Details:\\n\\uD83C\\uDF10 Network: \").concat(nft.blockchainNetwork,\"\\n\\uD83D\\uDCCD Contract Address: \").concat(nft.contractAddress,\"\\n\\uD83D\\uDC64 Current Owner: \").concat(nft.currentOwner,\"\\n\\uD83D\\uDCC5 Mint Date: \").concat(new Date(nft.mintDate).toLocaleString(),\"\\n\\uD83D\\uDD04 Transferable: \").concat(nft.isTransferable?'Yes':'No',\"\\n\\uD83D\\uDD10 Access Level: \").concat(nft.accessLevel,\"\\n\\n\\uD83D\\uDCCE Metadata URI: \").concat(nft.metadataUri,\"\\n\\uD83D\\uDDBC\\uFE0F Image URL: \").concat(nft.imageUrl,\"\\n\\n\\u2705 This NFT represents a verified medical record stored securely on the blockchain.\\n\\uD83D\\uDEE1\\uFE0F The NFT provides immutable proof of medical data authenticity.\"));};// File encryption handlers\nconst handleFileSelection=event=>{const files=event.target.files;if(files){const pdfFiles=Array.from(files).filter(file=>file.type==='application/pdf');if(pdfFiles.length!==files.length){alert('⚠️ Only PDF files are allowed. Non-PDF files have been filtered out.');}setSelectedFiles(prev=>[...prev,...pdfFiles]);}};const removeSelectedFile=index=>{setSelectedFiles(prev=>prev.filter((_,i)=>i!==index));};const handleEncryptSelectedFiles=async()=>{if(selectedFiles.length===0){alert('❌ Please select PDF files to encrypt first.');return;}const password=prompt('🔒 Enter password to encrypt the selected PDF files:');if(!password||!password.trim()){alert('❌ Password is required for encryption.');return;}try{const encryptedFiles=[];for(const file of selectedFiles){// Read file as base64\nconst reader=new FileReader();const fileData=await new Promise(resolve=>{reader.onload=()=>resolve(reader.result);reader.readAsDataURL(file);});// Encrypt the file data\nconst customEncryption=new EncryptionService();const salt=customEncryption.generateSalt();customEncryption.deriveKey(password,salt);const encryptedData=customEncryption.encryptData(fileData);encryptedFiles.push({name:file.name.replace('.pdf','_encrypted.pdf'),encryptedData:encryptedData});}// Create download links for encrypted files\nencryptedFiles.forEach(_ref2=>{let{name,encryptedData}=_ref2;const blob=new Blob([encryptedData],{type:'application/octet-stream'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=name;document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);});alert(\"\\u2705 Successfully encrypted and downloaded \".concat(encryptedFiles.length,\" PDF file(s)!\\n\\n\\uD83D\\uDD10 Encryption Details:\\n\\uD83D\\uDCC4 Files: \").concat(encryptedFiles.map(f=>f.name).join(', '),\"\\n\\uD83D\\uDEE1\\uFE0F Security: AES-256 with password protection\\n\\uD83D\\uDCC5 Encrypted: \").concat(new Date().toLocaleString(),\"\\n\\n\\u26A0\\uFE0F Remember your password - you'll need it to decrypt these files!\\n\\uD83D\\uDD04 The encrypted files have been downloaded to your computer.\"));// Clear selected files\nsetSelectedFiles([]);// Reset file input\nconst fileInput=document.getElementById('pdf-file-input');if(fileInput){fileInput.value='';}}catch(error){console.error('File encryption error:',error);alert('❌ Failed to encrypt files. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"\\uD83E\\uDE7A Doctor Dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"success\",size:\"sm\",children:\"\\uD83D\\uDD12 HIPAA Compliant\"}),/*#__PURE__*/_jsx(Badge,{variant:\"primary\",size:\"sm\",className:\"ml-2\",children:\"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Medical Access\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Timer,{duration:sessionTimeLeft,onExpire:handleSessionExpire,className:\"text-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"h-8 w-8 rounded-full\",src:\"https://ui-avatars.com/api/?name=\".concat(user.name,\"&background=2563eb&color=fff\"),alt:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-600 font-semibold\",children:user.role.toUpperCase()})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,className:\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",children:[{id:'patients',label:'👥 My Patients',icon:'👥'},{id:'records',label:'📋 Medical Records',icon:'📋'},{id:'insurance',label:'💰 Insurance Claims',icon:'💰'},{id:'nfts',label:'🎨 NFT Health Records',icon:'🎨'},{id:'security',label:'🔒 Security Tools',icon:'🔒'}].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:tab.label},tab.id))})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:[activeTab==='patients'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uD83D\\uDC65 My Patients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddNewPatient,className:\"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700\",children:\"+ New Patient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[myPatients.length,\" active patients\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6\",children:myPatients.map(patient=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-6 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"h-12 w-12 rounded-full\",src:\"https://ui-avatars.com/api/?name=\".concat(patient.name,\"&background=random\"),alt:patient.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:patient.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:patient.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"DOB: \",patient.dateOfBirth]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Phone: \",patient.phoneNumber]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"success\",size:\"sm\",children:\"Active\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:[\"Last Visit: \",patient.lastVisit]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600 font-medium\",children:[\"Next: \",patient.upcomingAppointment]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:\"Insurance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:patient.insuranceProvider}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 font-mono\",children:patient.insurancePolicyNumber})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:\"Emergency Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:patient.emergencyContact})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateRecord,className:\"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700\",children:\"\\uD83D\\uDCCB New Record\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSubmitInsuranceClaim(patient.id),className:\"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700\",children:\"\\uD83D\\uDCB0 Submit Claim\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewHistory(patient.id),className:\"bg-gray-600 text-white px-4 py-2 rounded text-sm hover:bg-gray-700\",children:\"\\uD83D\\uDC41\\uFE0F View History\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadPatientPDF(patient.id),className:\"bg-purple-600 text-white px-4 py-2 rounded text-sm hover:bg-purple-700\",children:\"\\uD83D\\uDCC4 Download Records\"})]})]},patient.id))})})]}),activeTab==='records'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uD83D\\uDCCB Recent Medical Records\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateRecord,className:\"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700\",children:\"+ New Record\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:recentRecords.map(record=>{var _myPatients$find4;return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:record.title}),record.doctorId===user.id?/*#__PURE__*/_jsx(Badge,{variant:\"primary\",size:\"sm\",children:\"\\uD83D\\uDC68\\u200D\\u2695\\uFE0F Doctor Added\"}):/*#__PURE__*/_jsx(Badge,{variant:\"info\",size:\"sm\",children:\"\\uD83D\\uDC64 Patient Added\"}),recordEncryptionStatus[record.id]?/*#__PURE__*/_jsx(Badge,{variant:\"warning\",size:\"sm\",children:\"\\uD83D\\uDD12 ENCRYPTED\"}):/*#__PURE__*/_jsx(Badge,{variant:\"success\",size:\"sm\",children:\"\\uD83D\\uDCC4 Plain Text\"}),/*#__PURE__*/_jsx(Badge,{variant:\"primary\",size:\"sm\",children:\"\\uD83E\\uDDF1 On-Chain\"}),record.nftTokenId&&/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",size:\"sm\",children:\"\\uD83C\\uDFA8 NFT\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:record.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Patient:\"}),\" \",(_myPatients$find4=myPatients.find(p=>p.id===record.patientId))===null||_myPatients$find4===void 0?void 0:_myPatients$find4.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Date:\"}),\" \",record.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Diagnosis:\"}),\" \",record.diagnosis]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Prescription:\"}),\" \",record.prescription]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-mono text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Blockchain:\"}),\" \",record.blockchainHash]}),record.ipfsHash&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-mono text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"IPFS:\"}),\" \",record.ipfsHash]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex flex-col space-y-2\",children:[!record.nftTokenId&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMintNFT(record.id),className:\"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700\",children:\"\\uD83C\\uDFA8 Mint NFT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEncryptRecord(record.id),className:\"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700\",children:\"\\uD83D\\uDD12 Encrypt\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDecryptRecord(record.id),className:\"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700\",children:\"\\uD83D\\uDD13 Decrypt\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewRecord(record.id),className:\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\",children:\"\\uD83D\\uDC41\\uFE0F View\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadPDF(record.id),className:\"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700\",children:\"\\uD83D\\uDCC4 Download PDF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700\",children:\"\\u270F\\uFE0F Edit\"})]})]})},record.id);})})})]}),activeTab==='insurance'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uD83D\\uDCB0 Insurance Claims\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:insuranceClaims.map(claim=>{var _myPatients$find5,_claim$blockchainTxId;return/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:[\"Claim #\",claim.claimNumber]}),/*#__PURE__*/_jsx(Badge,{variant:getStatusColor(claim.status),size:\"sm\",children:claim.status.toUpperCase()}),claim.isProcessedOnChain&&/*#__PURE__*/_jsx(Badge,{variant:\"primary\",size:\"sm\",children:\"\\uD83E\\uDDF1 On-Chain\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:claim.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Patient:\"}),\" \",(_myPatients$find5=myPatients.find(p=>p.id===claim.patientId))===null||_myPatients$find5===void 0?void 0:_myPatients$find5.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Amount:\"}),\" $\",claim.amount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Submitted:\"}),\" \",claim.submissionDate]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Provider:\"}),\" \",claim.insuranceProvider]}),claim.approvalDate&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Approved:\"}),\" \",claim.approvalDate]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-mono text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Contract:\"}),\" \",claim.smartContractAddress]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-mono text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tx ID:\"}),\" \",(_claim$blockchainTxId=claim.blockchainTxId)===null||_claim$blockchainTxId===void 0?void 0:_claim$blockchainTxId.substring(0,20),\"...\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewInsuranceClaim(claim.id),className:\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\",children:\"\\uD83D\\uDC41\\uFE0F View Details\"})})]})},claim.id);})})})]}),activeTab==='nfts'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uD83C\\uDFA8 NFT Health Records\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:nftRecords.map(nft=>{var _myPatients$find6;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-4xl\",children:\"\\uD83C\\uDFE5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:nft.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:nft.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Token ID:\"}),\" \",nft.tokenId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Patient:\"}),\" \",(_myPatients$find6=myPatients.find(p=>p.id===nft.patientId))===null||_myPatients$find6===void 0?void 0:_myPatients$find6.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Network:\"}),\" \",nft.blockchainNetwork]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Minted:\"}),\" \",new Date(nft.mintDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-mono\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Contract:\"}),\" \",nft.contractAddress.substring(0,10),\"...\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-2\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",size:\"sm\",children:nft.isTransferable?'Transferable':'Non-Transferable'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewNFT(nft.id),className:\"bg-purple-600 text-white px-2 py-1 rounded text-xs hover:bg-purple-700 font-medium\",children:\"\\uD83D\\uDC41\\uFE0F View NFT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const relatedRecord=recentRecords.find(r=>r.id===nft.recordId);if(relatedRecord){handleDownloadPDF(relatedRecord.id);}else{alert('Related medical record not found');}},className:\"bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700\",children:\"\\uD83D\\uDCC4 PDF\"})]})]})]})]},nft.id);})})})]}),activeTab==='security'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"\\uD83D\\uDD12 Encryption & Security Tools\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Secure patient records with advanced encryption\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"\\uD83D\\uDD10 PDF File Encryption\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Choose PDF files from your computer to encrypt\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl mb-4 block\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-2\",children:\"Encrypt PDF Files\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Select PDF files from your computer to encrypt with password protection\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",multiple:true,onChange:handleFileSelection,className:\"hidden\",id:\"pdf-file-input\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pdf-file-input\",className:\"bg-green-600 text-white px-4 py-2 rounded cursor-pointer hover:bg-green-700 inline-block\",children:\"\\uD83D\\uDCC1 Choose PDF Files to Encrypt\"})]})}),selectedFiles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-blue-50\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"font-medium text-blue-900 mb-2\",children:[\"Selected Files (\",selectedFiles.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:selectedFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-white rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:file.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",Math.round(file.size/1024),\" KB)\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeSelectedFile(index),className:\"text-red-600 hover:text-red-800 text-xs\",children:\"\\u274C Remove\"})]},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEncryptSelectedFiles,className:\"w-full mt-3 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",children:\"\\uD83D\\uDD12 Encrypt Selected Files\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-orange-50\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-medium text-orange-900 mb-2\",children:\"\\uD83D\\uDCCB Quick Export & Encrypt Workflow\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-orange-700 mb-3\",children:[\"1. Export patient records as PDF from the Medical Records tab\",/*#__PURE__*/_jsx(\"br\",{}),\"2. Come back to Security Tools\",/*#__PURE__*/_jsx(\"br\",{}),\"3. Select the downloaded PDF files to encrypt\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('records'),className:\"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700\",children:\"\\uD83D\\uDCCB Go to Medical Records\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"\\uD83D\\uDCC4 PDF Export Tools\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Export patient records as PDF files (unencrypted)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border rounded-lg bg-purple-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-purple-800\",children:\"Quick Patient Export\"}),/*#__PURE__*/_jsx(Badge,{variant:\"primary\",size:\"sm\",children:\"\\uD83D\\uDD10 CONFIDENTIAL\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-purple-700\",children:\"Export records with CONFIDENTIAL watermark (encryption done separately)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:myPatients.slice(0,2).map(patient=>{const patientRecordCount=recentRecords.filter(r=>r.patientId===patient.id).length;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDownloadPatientPDF(patient.id),className:\"bg-purple-600 text-white px-3 py-2 rounded text-xs hover:bg-purple-700 flex items-center justify-center\",disabled:patientRecordCount===0,children:[\"\\uD83D\\uDCC4 \",patient.name.split(' ')[0],\" (\",patientRecordCount,\")\"]},patient.id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(recentRecords.length>0){handleDownloadPDF(recentRecords[0].id);}else{alert('No records available for download');}},className:\"w-full bg-purple-700 text-white px-4 py-2 rounded text-sm hover:bg-purple-800\",children:\"\\uD83D\\uDCC4 Download Latest Record PDF\"})]})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"\\uFFFD\\uD83D\\uDCCB Clipboard Security\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Monitor clipboard for suspicious wallet addresses\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Clipboard Monitoring\"}),/*#__PURE__*/_jsx(Badge,{variant:clipboardMonitoring?'success':'secondary',size:\"sm\",children:clipboardMonitoring?'Active':'Inactive'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleClipboardMonitoring,className:\"w-full px-4 py-2 rounded text-sm \".concat(clipboardMonitoring?'bg-red-600 hover:bg-red-700 text-white':'bg-blue-600 hover:bg-blue-700 text-white'),children:clipboardMonitoring?'⏹️ Stop Monitoring':'🔍 Start Monitoring'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Detects cryptocurrency wallet addresses\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Alerts on suspicious clipboard activity\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Protects against clipboard hijacking\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-600 text-lg mr-2\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-yellow-800\",children:\"Security Notice\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-700 mt-1\",children:\"Always ensure patient records are encrypted before transmission. Use blockchain verification for data integrity and monitor for suspicious activities.\"})]})]})})]})]})})]}),showCreateRecordModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Create New Medical Record\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Patient\"}),/*#__PURE__*/_jsxs(\"select\",{value:newRecordForm.patientId,onChange:e=>setNewRecordForm(prev=>_objectSpread(_objectSpread({},prev),{},{patientId:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Patient\"}),myPatients.map(patient=>/*#__PURE__*/_jsx(\"option\",{value:patient.id,children:patient.name},patient.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRecordForm.title,onChange:e=>setNewRecordForm(prev=>_objectSpread(_objectSpread({},prev),{},{title:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",placeholder:\"Record title\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Diagnosis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newRecordForm.diagnosis,onChange:e=>setNewRecordForm(prev=>_objectSpread(_objectSpread({},prev),{},{diagnosis:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",placeholder:\"Diagnosis\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Prescription\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newRecordForm.prescription,onChange:e=>setNewRecordForm(prev=>_objectSpread(_objectSpread({},prev),{},{prescription:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",rows:3,placeholder:\"Prescription details\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newRecordForm.description,onChange:e=>setNewRecordForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",rows:3,placeholder:\"Additional notes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateRecordModal(false),className:\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveRecord,className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",children:\"Create Record\"})]})]})})}),showClaimModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Submit Insurance Claim\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Patient\"}),/*#__PURE__*/_jsxs(\"select\",{value:newClaimForm.patientId,onChange:e=>setNewClaimForm(prev=>_objectSpread(_objectSpread({},prev),{},{patientId:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Patient\"}),myPatients.map(patient=>/*#__PURE__*/_jsx(\"option\",{value:patient.id,children:patient.name},patient.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Insurance Provider\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newClaimForm.insuranceProvider,onChange:e=>setNewClaimForm(prev=>_objectSpread(_objectSpread({},prev),{},{insuranceProvider:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",placeholder:\"Insurance company name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Claim Amount ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newClaimForm.amount,onChange:e=>setNewClaimForm(prev=>_objectSpread(_objectSpread({},prev),{},{amount:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newClaimForm.description,onChange:e=>setNewClaimForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",rows:4,placeholder:\"Claim description and details\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClaimModal(false),className:\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClaim,className:\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\",children:\"Submit Claim\"})]})]})})})]});};export default DoctorDashboard;","map":{"version":3,"names":["React","useState","useEffect","Badge","Timer","RoleBasedAccessService","EncryptionService","sharedStateService","pdfService","jsx","_jsx","jsxs","_jsxs","DoctorDashboard","_ref","user","onLogout","sessionTimeLeft","rbacService","activeTab","setActiveTab","showCreateRecordModal","setShowCreateRecordModal","showClaimModal","setShowClaimModal","setSelectedPatientId","clipboardMonitoring","setClipboardMonitoring","encryptedRecords","setEncryptedRecords","recordEncryptionStatus","setRecordEncryptionStatus","selectedFiles","setSelectedFiles","newRecordForm","setNewRecordForm","patientId","title","description","diagnosis","prescription","notes","newClaimForm","setNewClaimForm","amount","insuranceProvider","myPatients","setMyPatients","recentRecords","setRecentRecords","patients","getPatients","allRecords","getMedicalRecords","unsubscribePatients","onPatientsChange","unsubscribeRecords","onMedicalRecordsChange","id","insuranceClaims","claimNumber","providerId","doctorId","insuranceCompany","status","submittedAt","submissionDate","approvalDate","relatedRecords","smartContractAddress","blockchainTxId","isProcessedOnChain","approvalSignatures","ipfsDocuments","nftRecords","tokenId","recordId","name","imageUrl","metadataUri","contractAddress","blockchainNetwork","mintDate","currentOwner","isTransferable","accessLevel","setCurrentUser","handleSessionExpire","window","confirm","handleCreateRecord","handleSubmitInsuranceClaim","prev","_objectSpread","handleMintNFT","alert","concat","console","log","handleViewHistory","patient","find","p","patientRecords","filter","record","length","historyDetails","map","date","join","email","dateOfBirth","phoneNumber","address","emergencyContact","lastVisit","upcomingAppointment","handleEncryptRecord","r","_myPatients$find","password","prompt","trim","_myPatients$find2","customEncryption","recordData","encryptedBy","encryptedAt","Date","toISOString","salt","generateSalt","deriveKey","encryptedData","encryptData","JSON","stringify","toLocaleString","error","handleDecryptRecord","_myPatients$find3","decryptedData","decryptData","parse","permanentDecrypt","updated","handleViewRecord","isEncrypted","viewEncrypted","blockchainHash","ipfsHash","nftTokenId","isVerified","toggleClipboardMonitoring","newState","handleViewInsuranceClaim","claimId","claim","c","toFixed","toUpperCase","handleSaveRecord","newRecord","generateId","split","accessPermissions","now","toString","Math","random","slice","undefined","addMedicalRecord","handleSaveClaim","getStatusColor","handleDownloadPDF","downloadMedicalRecordPDF","includeWatermark","replace","Error","message","handleDownloadPatientPDF","batchPDF","generateBatchPDF","url","URL","createObjectURL","link","document","createElement","href","filename","download","body","appendChild","click","removeChild","revokeObjectURL","handleAddNewPatient","patientName","patientEmail","includes","patientDOB","match","insurancePolicyNumber","newPatient","isActive","addPatient","handleViewNFT","nftId","nft","n","relatedRecord","handleFileSelection","event","files","target","pdfFiles","Array","from","file","type","removeSelectedFile","index","_","i","handleEncryptSelectedFiles","encryptedFiles","reader","FileReader","fileData","Promise","resolve","onload","result","readAsDataURL","push","forEach","_ref2","blob","Blob","f","fileInput","getElementById","value","className","children","variant","size","duration","onExpire","src","alt","role","onClick","label","icon","tab","_myPatients$find4","_myPatients$find5","_claim$blockchainTxId","substring","_myPatients$find6","toLocaleDateString","accept","multiple","onChange","htmlFor","round","patientRecordCount","disabled","e","placeholder","rows"],"sources":["D:/DATA/CAREER/INTERNSHIPS/EMRChains Internship NSTP/PROJECTS/HEALTHCARE_SYSTEM/src/components/Dashboard/DoctorDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Badge from '../UI/Badge';\r\nimport Timer from '../UI/Timer';\r\nimport { User, MedicalRecord, Patient, InsuranceClaim, NFTHealthRecord } from '../../types';\r\nimport { RoleBasedAccessService } from '../../services/rbacService';\r\nimport { EncryptionService } from '../../services/encryption';\r\nimport { sharedStateService } from '../../services/sharedState';\r\nimport { pdfService } from '../../services/pdfService';\r\n\r\ninterface DoctorDashboardProps {\r\n    user: User;\r\n    onLogout: () => void;\r\n}\r\n\r\nconst DoctorDashboard: React.FC<DoctorDashboardProps> = ({ user, onLogout }) => {\r\n    const [sessionTimeLeft] = useState(1800);\r\n    const [rbacService] = useState(new RoleBasedAccessService());\r\n    const [activeTab, setActiveTab] = useState<'patients' | 'records' | 'insurance' | 'nfts' | 'security'>('patients');\r\n\r\n    // Modal states\r\n    const [showCreateRecordModal, setShowCreateRecordModal] = useState(false);\r\n    const [showClaimModal, setShowClaimModal] = useState(false);\r\n    const [, setSelectedPatientId] = useState<string>('');\r\n\r\n    // Security states\r\n    const [clipboardMonitoring, setClipboardMonitoring] = useState(false);\r\n    const [encryptedRecords, setEncryptedRecords] = useState<{ [key: string]: string }>({});\r\n    const [recordEncryptionStatus, setRecordEncryptionStatus] = useState<{ [key: string]: boolean }>({});\r\n    const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\r\n\r\n    // Form states\r\n    const [newRecordForm, setNewRecordForm] = useState({\r\n        patientId: '',\r\n        title: '',\r\n        description: '',\r\n        diagnosis: '',\r\n        prescription: '',\r\n        notes: ''\r\n    });\r\n\r\n    const [newClaimForm, setNewClaimForm] = useState({\r\n        patientId: '',\r\n        amount: '',\r\n        description: '',\r\n        insuranceProvider: ''\r\n    });\r\n\r\n    const [myPatients, setMyPatients] = useState<Patient[]>([]);\r\n    const [recentRecords, setRecentRecords] = useState<MedicalRecord[]>([]);\r\n\r\n    // Initialize data from shared state service\r\n    useEffect(() => {\r\n        const patients = sharedStateService.getPatients();\r\n        // Get ALL medical records (not just doctor's own records) so doctor can see patient-added records\r\n        const allRecords = sharedStateService.getMedicalRecords();\r\n\r\n        setMyPatients(patients);\r\n        setRecentRecords(allRecords);\r\n\r\n        // Subscribe to changes\r\n        const unsubscribePatients = sharedStateService.onPatientsChange(setMyPatients);\r\n        const unsubscribeRecords = sharedStateService.onMedicalRecordsChange((allRecords) => {\r\n            // Show all records so doctor can see patient-added records\r\n            setRecentRecords(allRecords);\r\n        });\r\n\r\n        return () => {\r\n            unsubscribePatients();\r\n            unsubscribeRecords();\r\n        };\r\n    }, [user.id]);\r\n\r\n    const [insuranceClaims] = useState<InsuranceClaim[]>([\r\n        {\r\n            id: 'claim-1',\r\n            claimNumber: 'CLM-2025-001',\r\n            patientId: 'patient-1',\r\n            providerId: user.id,\r\n            doctorId: user.id,\r\n            insuranceCompany: 'HealthFirst Insurance',\r\n            insuranceProvider: 'HealthFirst Insurance',\r\n            amount: 450.00,\r\n            status: 'approved',\r\n            submittedAt: '2025-07-01T10:00:00Z',\r\n            submissionDate: '2025-07-01',\r\n            approvalDate: '2025-07-03',\r\n            description: 'Annual physical examination and blood work',\r\n            relatedRecords: ['record-1'],\r\n            smartContractAddress: '0x1234567890abcdef1234567890abcdef12345678',\r\n            blockchainTxId: '0xabc123def456789abcdef123456789abc123def456789abcdef',\r\n            isProcessedOnChain: true,\r\n            approvalSignatures: [],\r\n            ipfsDocuments: []\r\n        },\r\n        {\r\n            id: 'claim-2',\r\n            claimNumber: 'CLM-2025-002',\r\n            patientId: 'patient-2',\r\n            providerId: user.id,\r\n            doctorId: user.id,\r\n            insuranceCompany: 'MediCare Plus',\r\n            insuranceProvider: 'MediCare Plus',\r\n            amount: 275.50,\r\n            status: 'pending',\r\n            submittedAt: '2025-07-04T14:30:00Z',\r\n            submissionDate: '2025-07-04',\r\n            description: 'Follow-up consultation and medication review',\r\n            relatedRecords: ['record-2'],\r\n            smartContractAddress: '0x1234567890abcdef1234567890abcdef12345678',\r\n            blockchainTxId: '0xdef456abc789123def456abc789123def456abc789123def',\r\n            isProcessedOnChain: false,\r\n            approvalSignatures: [],\r\n            ipfsDocuments: []\r\n        }\r\n    ]);\r\n\r\n    const [nftRecords] = useState<NFTHealthRecord[]>([\r\n        {\r\n            id: 'nft-1',\r\n            tokenId: 'HEALTH-NFT-001',\r\n            patientId: 'patient-1',\r\n            recordId: 'record-1',\r\n            name: 'Annual Physical 2025',\r\n            description: 'Comprehensive health examination record',\r\n            imageUrl: 'https://via.placeholder.com/200x200/4F46E5/FFFFFF?text=NFT-001',\r\n            metadataUri: 'ipfs://QmX9ZB7tRvWKHGK8P2mNv3qL5rA9wS6cF4dE2gH1jK0mP',\r\n            contractAddress: '0x9876543210fedcba9876543210fedcba98765432',\r\n            blockchainNetwork: 'Ethereum',\r\n            mintDate: '2025-07-04T10:30:00Z',\r\n            currentOwner: 'patient-1',\r\n            isTransferable: false,\r\n            accessLevel: 'doctor_patient'\r\n        },\r\n        {\r\n            id: 'nft-2',\r\n            tokenId: 'HEALTH-NFT-002',\r\n            patientId: 'patient-2',\r\n            recordId: 'record-2',\r\n            name: 'Follow-up Consultation',\r\n            description: 'Treatment follow-up and medication adjustment',\r\n            imageUrl: 'https://via.placeholder.com/200x200/059669/FFFFFF?text=NFT-002',\r\n            metadataUri: 'ipfs://QmY8AX6sRvWKHGK8P2mNv3qL5rA9wS6cF4dE2gH1jK0nQ',\r\n            contractAddress: '0x9876543210fedcba9876543210fedcba98765432',\r\n            blockchainNetwork: 'Ethereum',\r\n            mintDate: '2025-07-03T14:45:00Z',\r\n            currentOwner: 'patient-2',\r\n            isTransferable: false,\r\n            accessLevel: 'doctor_patient'\r\n        }\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        rbacService.setCurrentUser(user);\r\n    }, [user, rbacService]);\r\n\r\n    const handleSessionExpire = () => {\r\n        window.confirm('Session expired for security. Please login again.') && onLogout();\r\n    };\r\n\r\n    const handleCreateRecord = () => {\r\n        setShowCreateRecordModal(true);\r\n    };\r\n\r\n    const handleSubmitInsuranceClaim = (patientId: string) => {\r\n        setSelectedPatientId(patientId);\r\n        setNewClaimForm(prev => ({ ...prev, patientId }));\r\n        setShowClaimModal(true);\r\n    };\r\n\r\n    const handleMintNFT = (recordId: string) => {\r\n        alert(`NFT minting initiated for record ${recordId}. This will create a secure, immutable NFT on the blockchain.`);\r\n        console.log(`Minting NFT for record: ${recordId}`);\r\n    };\r\n\r\n    const handleViewHistory = (patientId: string) => {\r\n        const patient = myPatients.find(p => p.id === patientId);\r\n        const patientRecords = recentRecords.filter(record => record.patientId === patientId);\r\n\r\n        if (patient && patientRecords.length > 0) {\r\n            const historyDetails = patientRecords.map(record =>\r\n                `📋 ${record.title} (${record.date})\\n   Diagnosis: ${record.diagnosis}\\n   Prescription: ${record.prescription}`\r\n            ).join('\\n\\n');\r\n\r\n            alert(`👥 Medical History for ${patient.name}\r\n📧 Email: ${patient.email}\r\n🎂 DOB: ${patient.dateOfBirth}\r\n🏥 Insurance: ${patient.insuranceProvider}\r\n📞 Phone: ${patient.phoneNumber}\r\n🏠 Address: ${patient.address}\r\n🚨 Emergency Contact: ${patient.emergencyContact}\r\n📅 Last Visit: ${patient.lastVisit}\r\n⏭️ Next Appointment: ${patient.upcomingAppointment}\r\n\r\n📋 MEDICAL RECORDS:\r\n${historyDetails}\r\n\r\nTotal Records: ${patientRecords.length}`);\r\n        } else {\r\n            alert(`No medical history found for this patient.`);\r\n        }\r\n    };\r\n\r\n    const handleEncryptRecord = (recordId: string) => {\r\n        const record = recentRecords.find(r => r.id === recordId);\r\n        if (record) {\r\n            // Check if already encrypted\r\n            if (recordEncryptionStatus[recordId]) {\r\n                alert('⚠️ This record is already encrypted. Please decrypt it first if you want to re-encrypt with a different password.');\r\n                return;\r\n            }\r\n\r\n            const password = prompt(`🔒 Enter a password to encrypt \"${record.title}\" for patient: ${myPatients.find(p => p.id === record.patientId)?.name || record.patientId}`);\r\n            if (password && password.trim()) {\r\n                try {\r\n                    // Create a custom encryption service with the user's password\r\n                    const customEncryption = new EncryptionService();\r\n                    const recordData = {\r\n                        ...record,\r\n                        encryptedBy: user.name,\r\n                        encryptedAt: new Date().toISOString()\r\n                    };\r\n\r\n                    // Use password-based encryption\r\n                    const salt = customEncryption.generateSalt();\r\n                    customEncryption.deriveKey(password, salt); // Generate derived key for security\r\n                    const encryptedData = customEncryption.encryptData(JSON.stringify(recordData));\r\n\r\n                    // Store the encrypted data and metadata\r\n                    setEncryptedRecords(prev => ({ ...prev, [recordId]: encryptedData }));\r\n                    setRecordEncryptionStatus(prev => ({ ...prev, [recordId]: true }));\r\n\r\n                    alert(`🔒 SUCCESS! Record \"${record.title}\" has been encrypted with your custom password.\r\n                    \r\n📋 Record: ${record.title}\r\n👤 Patient: ${myPatients.find(p => p.id === record.patientId)?.name}\r\n🔐 Status: ENCRYPTED\r\n🛡️ Security Level: AES-256 + Password Protection\r\n📅 Encrypted At: ${new Date().toLocaleString()}\r\n👨‍⚕️ Encrypted By: ${user.name}\r\n\r\n⚠️ Remember your password - it will be required for decryption!`);\r\n                } catch (error) {\r\n                    alert('❌ Encryption failed. Please try again.');\r\n                }\r\n            } else {\r\n                alert('❌ Password is required for encryption.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDecryptRecord = (recordId: string) => {\r\n        // Check if record is encrypted\r\n        if (!recordEncryptionStatus[recordId]) {\r\n            alert('ℹ️ This record is not encrypted. No decryption needed.');\r\n            return;\r\n        }\r\n\r\n        const encryptedData = encryptedRecords[recordId];\r\n        if (encryptedData) {\r\n            const password = prompt(`🔓 Enter the password to decrypt this record:`);\r\n            if (password && password.trim()) {\r\n                try {\r\n                    const customEncryption = new EncryptionService();\r\n\r\n                    // For demo purposes, we'll try to decrypt with the provided password\r\n                    // In a real system, you'd verify the password against the stored hash\r\n                    const decryptedData = customEncryption.decryptData(encryptedData);\r\n                    const record = JSON.parse(decryptedData);\r\n\r\n                    alert(`🔓 DECRYPTION SUCCESSFUL!\r\n\r\n📋 Title: ${record.title}\r\n👤 Patient: ${myPatients.find(p => p.id === record.patientId)?.name || record.patientId}\r\n📅 Date: ${record.date}\r\n🩺 Diagnosis: ${record.diagnosis}\r\n💊 Prescription: ${record.prescription}\r\n📝 Description: ${record.description}\r\n\r\n🔒 Encryption Details:\r\n👨‍⚕️ Encrypted By: ${record.encryptedBy || 'Unknown'}\r\n📅 Encrypted At: ${record.encryptedAt ? new Date(record.encryptedAt).toLocaleString() : 'Unknown'}\r\n🛡️ Security: Password-protected AES-256`);\r\n\r\n                    // Ask if user wants to permanently decrypt\r\n                    const permanentDecrypt = window.confirm('🔓 Do you want to permanently decrypt this record? (This will remove encryption)');\r\n                    if (permanentDecrypt) {\r\n                        setEncryptedRecords(prev => {\r\n                            const updated = { ...prev };\r\n                            delete updated[recordId];\r\n                            return updated;\r\n                        });\r\n                        setRecordEncryptionStatus(prev => ({ ...prev, [recordId]: false }));\r\n                        alert('✅ Record has been permanently decrypted and is now in plain text.');\r\n                    }\r\n                } catch (error) {\r\n                    alert('❌ Decryption failed. Incorrect password or corrupted data.');\r\n                }\r\n            } else {\r\n                alert('❌ Password is required for decryption.');\r\n            }\r\n        } else {\r\n            alert('❌ No encrypted data found for this record.');\r\n        }\r\n    };\r\n\r\n    const handleViewRecord = (recordId: string) => {\r\n        const record = recentRecords.find(r => r.id === recordId);\r\n        if (record) {\r\n            const isEncrypted = recordEncryptionStatus[recordId];\r\n            const patient = myPatients.find(p => p.id === record.patientId);\r\n\r\n            if (isEncrypted) {\r\n                const viewEncrypted = window.confirm(`🔒 This record is encrypted. \r\n\r\nDo you want to:\r\n- Click \"OK\" to view encrypted version\r\n- Click \"Cancel\" to decrypt and view`);\r\n\r\n                if (viewEncrypted) {\r\n                    // Show encrypted version\r\n                    alert(`🔒 ENCRYPTED RECORD VIEW\r\n\r\n📋 Title: ${record.title}\r\n👤 Patient: ${patient?.name || record.patientId}\r\n📅 Date: ${record.date}\r\n🔐 Status: ENCRYPTED\r\n🛡️ Security: Password Protected\r\n\r\n⚠️ Content is encrypted and cannot be displayed in plain text.\r\nUse the decrypt button to view the full content.`);\r\n                } else {\r\n                    // Trigger decryption process\r\n                    handleDecryptRecord(recordId);\r\n                }\r\n            } else {\r\n                // Show full record details\r\n                alert(`👁️ MEDICAL RECORD DETAILS\r\n\r\n📋 Title: ${record.title}\r\n👤 Patient: ${patient?.name || record.patientId}\r\n📧 Email: ${patient?.email || 'N/A'}\r\n📅 Date: ${record.date}\r\n🩺 Diagnosis: ${record.diagnosis}\r\n💊 Prescription: ${record.prescription}\r\n📝 Description: ${record.description}\r\n\r\n🔗 Blockchain Details:\r\n🧱 Hash: ${record.blockchainHash || 'N/A'}\r\n📎 IPFS: ${record.ipfsHash || 'N/A'}\r\n🎨 NFT Token: ${record.nftTokenId || 'Not minted'}\r\n✅ Verified: ${record.isVerified ? 'Yes' : 'No'}\r\n🔐 Encryption: Not encrypted`);\r\n            }\r\n        }\r\n    };\r\n\r\n    const toggleClipboardMonitoring = () => {\r\n        const newState = !clipboardMonitoring;\r\n        setClipboardMonitoring(newState);\r\n        if (newState) {\r\n            alert('🔍 Clipboard monitoring enabled. The system will monitor for suspicious wallet addresses.');\r\n            // In a real application, you would start actual clipboard monitoring here\r\n        } else {\r\n            alert('⏹️ Clipboard monitoring disabled.');\r\n        }\r\n    };\r\n\r\n    const handleViewInsuranceClaim = (claimId: string) => {\r\n        const claim = insuranceClaims.find(c => c.id === claimId);\r\n        if (claim) {\r\n            const patient = myPatients.find(p => p.id === claim.patientId);\r\n            alert(`💰 Insurance Claim Details\r\n\r\n📋 Claim Number: ${claim.claimNumber}\r\n👤 Patient: ${patient?.name || claim.patientId}\r\n💵 Amount: $${claim.amount.toFixed(2)}\r\n📊 Status: ${claim.status.toUpperCase()}\r\n🏥 Insurance Provider: ${claim.insuranceProvider}\r\n📅 Submitted: ${claim.submissionDate}\r\n${claim.approvalDate ? `✅ Approved: ${claim.approvalDate}` : '⏳ Pending approval'}\r\n📝 Description: ${claim.description || 'No description provided'}\r\n\r\n🔗 Blockchain Details:\r\n📋 Contract Address: ${claim.smartContractAddress}\r\n🆔 Transaction ID: ${claim.blockchainTxId}\r\n⛓️ On-Chain Status: ${claim.isProcessedOnChain ? 'Processed' : 'Pending'}\r\n\r\n📄 Related Records: ${claim.relatedRecords.length} record(s)\r\n📎 Documents: ${claim.ipfsDocuments.length} file(s) on IPFS`);\r\n        }\r\n    };\r\n\r\n    const handleSaveRecord = () => {\r\n        if (!newRecordForm.title || !newRecordForm.patientId) {\r\n            alert('Please fill in all required fields');\r\n            return;\r\n        }\r\n\r\n        // Find patient details\r\n        const patient = myPatients.find(p => p.id === newRecordForm.patientId);\r\n        if (!patient) {\r\n            alert('Patient not found');\r\n            return;\r\n        }\r\n\r\n        // Create new record with proper ID generation\r\n        const newRecord: MedicalRecord = {\r\n            id: sharedStateService.generateId('record'),\r\n            patientId: newRecordForm.patientId,\r\n            doctorId: user.id,\r\n            title: newRecordForm.title,\r\n            description: newRecordForm.description,\r\n            date: new Date().toISOString().split('T')[0], // Format as YYYY-MM-DD\r\n            diagnosis: newRecordForm.diagnosis,\r\n            prescription: newRecordForm.prescription,\r\n            isEncrypted: false, // Initially not encrypted\r\n            isVerified: true,\r\n            accessPermissions: [user.id, newRecordForm.patientId],\r\n            blockchainHash: `0x${Date.now().toString(16)}abc${Math.random().toString(16).slice(2, 8)}`,\r\n            ipfsHash: `Qm${Math.random().toString(36).slice(2, 15)}${Date.now().toString(36)}`,\r\n            nftTokenId: undefined // Will be set when NFT is minted\r\n        };\r\n\r\n        // Add to shared state (will automatically update all components)\r\n        sharedStateService.addMedicalRecord(newRecord);\r\n\r\n        // Show success message with patient name\r\n        alert(`✅ Medical record created successfully!\r\n\r\n📋 Record: ${newRecord.title}\r\n👤 Patient: ${patient.name}\r\n📅 Date: ${newRecord.date}\r\n🩺 Diagnosis: ${newRecord.diagnosis}\r\n💊 Prescription: ${newRecord.prescription}\r\n\r\nThe record has been added to your medical records list and is ready for encryption if needed.`);\r\n\r\n        setShowCreateRecordModal(false);\r\n        setNewRecordForm({\r\n            patientId: '',\r\n            title: '',\r\n            description: '',\r\n            diagnosis: '',\r\n            prescription: '',\r\n            notes: ''\r\n        });\r\n    };\r\n\r\n    const handleSaveClaim = () => {\r\n        if (!newClaimForm.amount || !newClaimForm.description) {\r\n            alert('Please fill in all required fields');\r\n            return;\r\n        }\r\n\r\n        // Create new insurance claim\r\n        // const newClaim: InsuranceClaim = {\r\n        //     id: `claim-${Date.now()}`,\r\n        //     claimNumber: `CLAIM-${Date.now()}`,\r\n        //     patientId: newClaimForm.patientId,\r\n        //     providerId: user.id,\r\n        //     doctorId: user.id,\r\n        //     insuranceCompany: newClaimForm.insuranceProvider,\r\n        //     insuranceProvider: newClaimForm.insuranceProvider,\r\n        //     amount: parseFloat(newClaimForm.amount),\r\n        //     status: 'pending',\r\n        //     submittedAt: new Date().toISOString(),\r\n        //     submissionDate: new Date().toLocaleDateString(),\r\n        //     description: newClaimForm.description,\r\n        //     relatedRecords: [],\r\n        //     smartContractAddress: '0x1234567890abcdef1234567890abcdef12345678',\r\n        //     blockchainTxId: `0x${Date.now().toString(16)}`,\r\n        //     isProcessedOnChain: false,\r\n        //     approvalSignatures: [],\r\n        //     ipfsDocuments: []\r\n        // };\r\n\r\n        alert('Insurance claim submitted successfully!');\r\n        setShowClaimModal(false);\r\n        setNewClaimForm({\r\n            patientId: '',\r\n            amount: '',\r\n            description: '',\r\n            insuranceProvider: ''\r\n        });\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case 'approved': return 'success';\r\n            case 'pending': return 'warning';\r\n            case 'rejected': return 'error';\r\n            case 'paid': return 'success';\r\n            case 'under_review': return 'info';\r\n            case 'submitted': return 'primary';\r\n            default: return 'secondary';\r\n        }\r\n    };\r\n\r\n    const handleDownloadPDF = async (recordId: string) => {\r\n        const record = recentRecords.find(r => r.id === recordId);\r\n        if (!record) {\r\n            alert('Record not found');\r\n            return;\r\n        }\r\n\r\n        const patient = myPatients.find(p => p.id === record.patientId);\r\n        if (!patient) {\r\n            alert('Patient not found');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Always download unencrypted PDF (encryption will be done in Security Tools)\r\n            await pdfService.downloadMedicalRecordPDF(record, patient, {\r\n                includeWatermark: true,\r\n                isEncrypted: false,\r\n                password: ''\r\n            });\r\n\r\n            alert(`✅ PDF Downloaded Successfully!\r\n\r\n📄 File: medical_record_${record.id}_${patient.name.replace(/\\s+/g, '_')}.pdf\r\n🔐 Status: UNENCRYPTED (ready for encryption in Security Tools)\r\n🚨 Watermark: CONFIDENTIAL (at top of document)\r\n👤 Patient: ${patient.name}\r\n📋 Record: ${record.title}\r\n\r\n💡 Next Steps:\r\n1. Go to Security Tools tab\r\n2. Select this PDF file to encrypt\r\n3. Choose a strong password for encryption\r\n\r\nThe PDF has been saved to your downloads folder.`);\r\n        } catch (error) {\r\n            console.error('PDF download error:', error);\r\n            alert(`❌ Failed to download PDF: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n    };\r\n\r\n    const handleDownloadPatientPDF = async (patientId: string) => {\r\n        const patient = myPatients.find(p => p.id === patientId);\r\n        if (!patient) {\r\n            alert('Patient not found');\r\n            return;\r\n        }\r\n\r\n        const patientRecords = recentRecords.filter(record => record.patientId === patientId);\r\n\r\n        if (patientRecords.length === 0) {\r\n            alert(`No medical records found for ${patient.name}. Create some records first.`);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (patientRecords.length === 1) {\r\n                // Single record\r\n                await pdfService.downloadMedicalRecordPDF(patientRecords[0], patient, {\r\n                    includeWatermark: true,\r\n                    isEncrypted: false,\r\n                    password: ''\r\n                });\r\n            } else {\r\n                // Multiple records - use batch PDF\r\n                const batchPDF = await pdfService.generateBatchPDF(patientRecords, [patient], {\r\n                    includeWatermark: true,\r\n                    isEncrypted: false,\r\n                    password: ''\r\n                });\r\n\r\n                // Create download link for batch PDF\r\n                const url = URL.createObjectURL(batchPDF);\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n\r\n                const filename = `medical_records_${patient.name.replace(/\\s+/g, '_')}_batch.pdf`;\r\n                link.download = filename;\r\n\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n                URL.revokeObjectURL(url);\r\n            }\r\n\r\n            alert(`✅ PDF Downloaded Successfully!\r\n\r\n👤 Patient: ${patient.name}\r\n📄 Records: ${patientRecords.length} medical record(s)\r\n🔐 Status: UNENCRYPTED (ready for encryption in Security Tools)\r\n🚨 Watermark: CONFIDENTIAL (at top of document)\r\n\r\n💡 Next Steps:\r\n1. Go to Security Tools tab\r\n2. Select this PDF file to encrypt\r\n3. Choose a strong password for encryption\r\n\r\nThe PDF has been saved to your downloads folder.`);\r\n        } catch (error) {\r\n            console.error('PDF download error:', error);\r\n            alert(`❌ Failed to download PDF: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        }\r\n    };\r\n\r\n    const handleAddNewPatient = () => {\r\n        const patientName = prompt('👤 Enter new patient name:');\r\n        if (!patientName || !patientName.trim()) {\r\n            alert('❌ Patient name is required');\r\n            return;\r\n        }\r\n\r\n        const patientEmail = prompt('📧 Enter patient email:');\r\n        if (!patientEmail || !patientEmail.trim() || !patientEmail.includes('@')) {\r\n            alert('❌ Valid email is required');\r\n            return;\r\n        }\r\n\r\n        const patientDOB = prompt('🎂 Enter patient date of birth (YYYY-MM-DD):');\r\n        if (!patientDOB || !patientDOB.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\r\n            alert('❌ Date of birth is required in YYYY-MM-DD format');\r\n            return;\r\n        }\r\n\r\n        const phoneNumber = prompt('📞 Enter patient phone number:') || '';\r\n        const address = prompt('🏠 Enter patient address:') || '';\r\n        const emergencyContact = prompt('🚨 Enter emergency contact (Name - Phone):') || '';\r\n        const insuranceProvider = prompt('🏥 Enter insurance provider:') || 'None';\r\n        const insurancePolicyNumber = prompt('📄 Enter insurance policy number:') || '';\r\n\r\n        const newPatient: Patient = {\r\n            id: sharedStateService.generateId('patient'),\r\n            name: patientName.trim(),\r\n            email: patientEmail.trim(),\r\n            dateOfBirth: patientDOB,\r\n            phoneNumber: phoneNumber,\r\n            address: address,\r\n            emergencyContact: emergencyContact,\r\n            insuranceProvider: insuranceProvider,\r\n            insurancePolicyNumber: insurancePolicyNumber,\r\n            lastVisit: new Date().toISOString().split('T')[0],\r\n            upcomingAppointment: 'To be scheduled',\r\n            isActive: true\r\n        };\r\n\r\n        // Add to shared state\r\n        sharedStateService.addPatient(newPatient);\r\n\r\n        alert(`✅ New patient added successfully!\r\n\r\n👤 Name: ${newPatient.name}\r\n📧 Email: ${newPatient.email}\r\n🎂 DOB: ${newPatient.dateOfBirth}\r\n📞 Phone: ${newPatient.phoneNumber}\r\n🏥 Insurance: ${newPatient.insuranceProvider}\r\n\r\nThe patient is now available for creating medical records.`);\r\n    };\r\n\r\n    const handleViewNFT = (nftId: string) => {\r\n        const nft = nftRecords.find(n => n.id === nftId);\r\n        if (!nft) {\r\n            alert('❌ NFT not found. Please try again.');\r\n            return;\r\n        }\r\n\r\n        const patient = myPatients.find(p => p.id === nft.patientId);\r\n        const relatedRecord = recentRecords.find(r => r.id === nft.recordId);\r\n\r\n        alert(`🎨 NFT Health Record Details\r\n\r\n🏷️ Name: ${nft.name}\r\n📝 Description: ${nft.description}\r\n🆔 Token ID: ${nft.tokenId}\r\n👤 Patient: ${patient?.name || nft.patientId}\r\n📋 Related Record: ${relatedRecord?.title || nft.recordId}\r\n\r\n🔗 Blockchain Details:\r\n🌐 Network: ${nft.blockchainNetwork}\r\n📍 Contract Address: ${nft.contractAddress}\r\n👤 Current Owner: ${nft.currentOwner}\r\n📅 Mint Date: ${new Date(nft.mintDate).toLocaleString()}\r\n🔄 Transferable: ${nft.isTransferable ? 'Yes' : 'No'}\r\n🔐 Access Level: ${nft.accessLevel}\r\n\r\n📎 Metadata URI: ${nft.metadataUri}\r\n🖼️ Image URL: ${nft.imageUrl}\r\n\r\n✅ This NFT represents a verified medical record stored securely on the blockchain.\r\n🛡️ The NFT provides immutable proof of medical data authenticity.`);\r\n    };\r\n\r\n    // File encryption handlers\r\n    const handleFileSelection = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const files = event.target.files;\r\n        if (files) {\r\n            const pdfFiles = Array.from(files).filter(file => file.type === 'application/pdf');\r\n            if (pdfFiles.length !== files.length) {\r\n                alert('⚠️ Only PDF files are allowed. Non-PDF files have been filtered out.');\r\n            }\r\n            setSelectedFiles(prev => [...prev, ...pdfFiles]);\r\n        }\r\n    };\r\n\r\n    const removeSelectedFile = (index: number) => {\r\n        setSelectedFiles(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const handleEncryptSelectedFiles = async () => {\r\n        if (selectedFiles.length === 0) {\r\n            alert('❌ Please select PDF files to encrypt first.');\r\n            return;\r\n        }\r\n\r\n        const password = prompt('🔒 Enter password to encrypt the selected PDF files:');\r\n        if (!password || !password.trim()) {\r\n            alert('❌ Password is required for encryption.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const encryptedFiles: { name: string; encryptedData: string }[] = [];\r\n            \r\n            for (const file of selectedFiles) {\r\n                // Read file as base64\r\n                const reader = new FileReader();\r\n                const fileData = await new Promise<string>((resolve) => {\r\n                    reader.onload = () => resolve(reader.result as string);\r\n                    reader.readAsDataURL(file);\r\n                });\r\n\r\n                // Encrypt the file data\r\n                const customEncryption = new EncryptionService();\r\n                const salt = customEncryption.generateSalt();\r\n                customEncryption.deriveKey(password, salt);\r\n                const encryptedData = customEncryption.encryptData(fileData);\r\n\r\n                encryptedFiles.push({\r\n                    name: file.name.replace('.pdf', '_encrypted.pdf'),\r\n                    encryptedData: encryptedData\r\n                });\r\n            }\r\n\r\n            // Create download links for encrypted files\r\n            encryptedFiles.forEach(({ name, encryptedData }) => {\r\n                const blob = new Blob([encryptedData], { type: 'application/octet-stream' });\r\n                const url = URL.createObjectURL(blob);\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n                link.download = name;\r\n                document.body.appendChild(link);\r\n                link.click();\r\n                document.body.removeChild(link);\r\n                URL.revokeObjectURL(url);\r\n            });\r\n\r\n            alert(`✅ Successfully encrypted and downloaded ${encryptedFiles.length} PDF file(s)!\r\n\r\n🔐 Encryption Details:\r\n📄 Files: ${encryptedFiles.map(f => f.name).join(', ')}\r\n🛡️ Security: AES-256 with password protection\r\n📅 Encrypted: ${new Date().toLocaleString()}\r\n\r\n⚠️ Remember your password - you'll need it to decrypt these files!\r\n🔄 The encrypted files have been downloaded to your computer.`);\r\n\r\n            // Clear selected files\r\n            setSelectedFiles([]);\r\n            \r\n            // Reset file input\r\n            const fileInput = document.getElementById('pdf-file-input') as HTMLInputElement;\r\n            if (fileInput) {\r\n                fileInput.value = '';\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('File encryption error:', error);\r\n            alert('❌ Failed to encrypt files. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            {/* Header */}\r\n            <header className=\"bg-white shadow-sm border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                    <div className=\"flex justify-between items-center h-16\">\r\n                        <div className=\"flex items-center\">\r\n                            <div className=\"flex-shrink-0\">\r\n                                <h1 className=\"text-xl font-bold text-gray-900\">🩺 Doctor Dashboard</h1>\r\n                            </div>\r\n                            <div className=\"ml-4\">\r\n                                <Badge variant=\"success\" size=\"sm\">🔒 HIPAA Compliant</Badge>\r\n                                <Badge variant=\"primary\" size=\"sm\" className=\"ml-2\">👨‍⚕️ Medical Access</Badge>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center space-x-4\">\r\n                            <Timer\r\n                                duration={sessionTimeLeft}\r\n                                onExpire={handleSessionExpire}\r\n                                className=\"text-sm\"\r\n                            />\r\n\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <img\r\n                                    className=\"h-8 w-8 rounded-full\"\r\n                                    src={`https://ui-avatars.com/api/?name=${user.name}&background=2563eb&color=fff`}\r\n                                    alt={user.name}\r\n                                />\r\n                                <div className=\"text-sm\">\r\n                                    <div className=\"font-medium text-gray-900\">{user.name}</div>\r\n                                    <div className=\"text-blue-600 font-semibold\">{user.role.toUpperCase()}</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={onLogout}\r\n                                className=\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\"\r\n                            >\r\n                                Logout\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Navigation Tabs */}\r\n            <div className=\"bg-white border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                    <nav className=\"flex space-x-8\">\r\n                        {[\r\n                            { id: 'patients', label: '👥 My Patients', icon: '👥' },\r\n                            { id: 'records', label: '📋 Medical Records', icon: '📋' },\r\n                            { id: 'insurance', label: '💰 Insurance Claims', icon: '💰' },\r\n                            { id: 'nfts', label: '🎨 NFT Health Records', icon: '🎨' },\r\n                            { id: 'security', label: '🔒 Security Tools', icon: '🔒' }\r\n                        ].map((tab) => (\r\n                            <button\r\n                                key={tab.id}\r\n                                onClick={() => setActiveTab(tab.id as any)}\r\n                                className={`py-4 px-1 border-b-2 font-medium text-sm ${activeTab === tab.id\r\n                                    ? 'border-blue-500 text-blue-600'\r\n                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                                    }`}\r\n                            >\r\n                                {tab.label}\r\n                            </button>\r\n                        ))}\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n\r\n                {/* Patients Tab */}\r\n                {activeTab === 'patients' && (\r\n                    <div className=\"bg-white shadow rounded-lg\">\r\n                        <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900\">👥 My Patients</h3>\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <button\r\n                                    onClick={handleAddNewPatient}\r\n                                    className=\"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700\"\r\n                                >\r\n                                    + New Patient\r\n                                </button>\r\n                                <div className=\"text-sm text-gray-500\">\r\n                                    {myPatients.length} active patients\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <div className=\"grid gap-6\">\r\n                                {myPatients.map((patient) => (\r\n                                    <div key={patient.id} className=\"border rounded-lg p-6 hover:shadow-md transition-shadow\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex items-center space-x-4\">\r\n                                                <img\r\n                                                    className=\"h-12 w-12 rounded-full\"\r\n                                                    src={`https://ui-avatars.com/api/?name=${patient.name}&background=random`}\r\n                                                    alt={patient.name}\r\n                                                />\r\n                                                <div>\r\n                                                    <h4 className=\"text-lg font-medium text-gray-900\">{patient.name}</h4>\r\n                                                    <p className=\"text-sm text-gray-500\">{patient.email}</p>\r\n                                                    <p className=\"text-sm text-gray-500\">DOB: {patient.dateOfBirth}</p>\r\n                                                    <p className=\"text-sm text-gray-500\">Phone: {patient.phoneNumber}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <Badge variant=\"success\" size=\"sm\">Active</Badge>\r\n                                                <p className=\"text-sm text-gray-500 mt-2\">Last Visit: {patient.lastVisit}</p>\r\n                                                <p className=\"text-sm text-blue-600 font-medium\">Next: {patient.upcomingAppointment}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-900\">Insurance</p>\r\n                                                <p className=\"text-sm text-gray-500\">{patient.insuranceProvider}</p>\r\n                                                <p className=\"text-sm text-gray-400 font-mono\">{patient.insurancePolicyNumber}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-900\">Emergency Contact</p>\r\n                                                <p className=\"text-sm text-gray-500\">{patient.emergencyContact}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"mt-4 flex space-x-3\">\r\n                                            <button\r\n                                                onClick={handleCreateRecord}\r\n                                                className=\"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700\"\r\n                                            >\r\n                                                📋 New Record\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleSubmitInsuranceClaim(patient.id)}\r\n                                                className=\"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700\"\r\n                                            >\r\n                                                💰 Submit Claim\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleViewHistory(patient.id)}\r\n                                                className=\"bg-gray-600 text-white px-4 py-2 rounded text-sm hover:bg-gray-700\"\r\n                                            >\r\n                                                👁️ View History\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleDownloadPatientPDF(patient.id)}\r\n                                                className=\"bg-purple-600 text-white px-4 py-2 rounded text-sm hover:bg-purple-700\"\r\n                                            >\r\n                                                📄 Download Records\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Medical Records Tab */}\r\n                {activeTab === 'records' && (\r\n                    <div className=\"bg-white shadow rounded-lg\">\r\n                        <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900\">📋 Recent Medical Records</h3>\r\n                            <button\r\n                                onClick={handleCreateRecord}\r\n                                className=\"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700\"\r\n                            >\r\n                                + New Record\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <div className=\"space-y-6\">\r\n                                {recentRecords.map((record) => (\r\n                                    <div key={record.id} className=\"border rounded-lg p-6\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center space-x-2 mb-2\">\r\n                                                    <h4 className=\"text-lg font-medium text-gray-900\">{record.title}</h4>\r\n                                                    {record.doctorId === user.id ? (\r\n                                                        <Badge variant=\"primary\" size=\"sm\">👨‍⚕️ Doctor Added</Badge>\r\n                                                    ) : (\r\n                                                        <Badge variant=\"info\" size=\"sm\">👤 Patient Added</Badge>\r\n                                                    )}\r\n                                                    {recordEncryptionStatus[record.id] ? (\r\n                                                        <Badge variant=\"warning\" size=\"sm\">🔒 ENCRYPTED</Badge>\r\n                                                    ) : (\r\n                                                        <Badge variant=\"success\" size=\"sm\">📄 Plain Text</Badge>\r\n                                                    )}\r\n                                                    <Badge variant=\"primary\" size=\"sm\">🧱 On-Chain</Badge>\r\n                                                    {record.nftTokenId && (\r\n                                                        <Badge variant=\"secondary\" size=\"sm\">🎨 NFT</Badge>\r\n                                                    )}\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-600 mb-2\">{record.description}</p>\r\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n                                                    <div>\r\n                                                        <p><span className=\"font-medium\">Patient:</span> {myPatients.find(p => p.id === record.patientId)?.name}</p>\r\n                                                        <p><span className=\"font-medium\">Date:</span> {record.date}</p>\r\n                                                        <p><span className=\"font-medium\">Diagnosis:</span> {record.diagnosis}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <p><span className=\"font-medium\">Prescription:</span> {record.prescription}</p>\r\n                                                        <p className=\"font-mono text-xs\"><span className=\"font-medium\">Blockchain:</span> {record.blockchainHash}</p>\r\n                                                        {record.ipfsHash && (\r\n                                                            <p className=\"font-mono text-xs\"><span className=\"font-medium\">IPFS:</span> {record.ipfsHash}</p>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"ml-4 flex flex-col space-y-2\">\r\n                                                {!record.nftTokenId && (\r\n                                                    <button\r\n                                                        onClick={() => handleMintNFT(record.id)}\r\n                                                        className=\"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700\"\r\n                                                    >\r\n                                                        🎨 Mint NFT\r\n                                                    </button>\r\n                                                )}\r\n                                                <button\r\n                                                    onClick={() => handleEncryptRecord(record.id)}\r\n                                                    className=\"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700\"\r\n                                                >\r\n                                                    🔒 Encrypt\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleDecryptRecord(record.id)}\r\n                                                    className=\"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700\"\r\n                                                >\r\n                                                    🔓 Decrypt\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleViewRecord(record.id)}\r\n                                                    className=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\"\r\n                                                >\r\n                                                    👁️ View\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleDownloadPDF(record.id)}\r\n                                                    className=\"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700\"\r\n                                                >\r\n                                                    📄 Download PDF\r\n                                                </button>\r\n                                                <button className=\"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700\">\r\n                                                    ✏️ Edit\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Insurance Claims Tab */}\r\n                {activeTab === 'insurance' && (\r\n                    <div className=\"bg-white shadow rounded-lg\">\r\n                        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900\">💰 Insurance Claims</h3>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <div className=\"space-y-6\">\r\n                                {insuranceClaims.map((claim) => (\r\n                                    <div key={claim.id} className=\"border rounded-lg p-6\">\r\n                                        <div className=\"flex items-start justify-between\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center space-x-2 mb-2\">\r\n                                                    <h4 className=\"text-lg font-medium text-gray-900\">Claim #{claim.claimNumber}</h4>\r\n                                                    <Badge variant={getStatusColor(claim.status)} size=\"sm\">\r\n                                                        {claim.status.toUpperCase()}\r\n                                                    </Badge>\r\n                                                    {claim.isProcessedOnChain && (\r\n                                                        <Badge variant=\"primary\" size=\"sm\">🧱 On-Chain</Badge>\r\n                                                    )}\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-600 mb-2\">{claim.description}</p>\r\n                                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\r\n                                                    <div>\r\n                                                        <p><span className=\"font-medium\">Patient:</span> {myPatients.find(p => p.id === claim.patientId)?.name}</p>\r\n                                                        <p><span className=\"font-medium\">Amount:</span> ${claim.amount.toFixed(2)}</p>\r\n                                                        <p><span className=\"font-medium\">Submitted:</span> {claim.submissionDate}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <p><span className=\"font-medium\">Provider:</span> {claim.insuranceProvider}</p>\r\n                                                        {claim.approvalDate && (\r\n                                                            <p><span className=\"font-medium\">Approved:</span> {claim.approvalDate}</p>\r\n                                                        )}\r\n                                                        <p className=\"font-mono text-xs\"><span className=\"font-medium\">Contract:</span> {claim.smartContractAddress}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <p className=\"font-mono text-xs\"><span className=\"font-medium\">Tx ID:</span> {claim.blockchainTxId?.substring(0, 20)}...</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"ml-4\">\r\n                                                <button\r\n                                                    onClick={() => handleViewInsuranceClaim(claim.id)}\r\n                                                    className=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\"\r\n                                                >\r\n                                                    👁️ View Details\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* NFT Health Records Tab */}\r\n                {activeTab === 'nfts' && (\r\n                    <div className=\"bg-white shadow rounded-lg\">\r\n                        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900\">🎨 NFT Health Records</h3>\r\n                        </div>\r\n                        <div className=\"p-6\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                {nftRecords.map((nft) => (\r\n                                    <div key={nft.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\r\n                                        <div className=\"aspect-square bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg mb-4 flex items-center justify-center\">\r\n                                            <span className=\"text-white text-4xl\">🏥</span>\r\n                                        </div>\r\n                                        <div className=\"space-y-2\">\r\n                                            <h4 className=\"font-medium text-gray-900\">{nft.name}</h4>\r\n                                            <p className=\"text-sm text-gray-600\">{nft.description}</p>\r\n                                            <div className=\"text-xs space-y-1\">\r\n                                                <p><span className=\"font-medium\">Token ID:</span> {nft.tokenId}</p>\r\n                                                <p><span className=\"font-medium\">Patient:</span> {myPatients.find(p => p.id === nft.patientId)?.name}</p>\r\n                                                <p><span className=\"font-medium\">Network:</span> {nft.blockchainNetwork}</p>\r\n                                                <p><span className=\"font-medium\">Minted:</span> {new Date(nft.mintDate).toLocaleDateString()}</p>\r\n                                                <p className=\"font-mono\"><span className=\"font-medium\">Contract:</span> {nft.contractAddress.substring(0, 10)}...</p>\r\n                                            </div>\r\n                                            <div className=\"flex items-center justify-between pt-2\">\r\n                                                <Badge variant=\"secondary\" size=\"sm\">\r\n                                                    {nft.isTransferable ? 'Transferable' : 'Non-Transferable'}\r\n                                                </Badge>\r\n                                                <div className=\"flex space-x-2\">\r\n                                                    <button\r\n                                                        onClick={() => handleViewNFT(nft.id)}\r\n                                                        className=\"bg-purple-600 text-white px-2 py-1 rounded text-xs hover:bg-purple-700 font-medium\"\r\n                                                    >\r\n                                                        👁️ View NFT\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => {\r\n                                                            const relatedRecord = recentRecords.find(r => r.id === nft.recordId);\r\n                                                            if (relatedRecord) {\r\n                                                                handleDownloadPDF(relatedRecord.id);\r\n                                                            } else {\r\n                                                                alert('Related medical record not found');\r\n                                                            }\r\n                                                        }}\r\n                                                        className=\"bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700\"\r\n                                                    >\r\n                                                        📄 PDF\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Security Tools Tab */}\r\n                {activeTab === 'security' && (\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"bg-white shadow rounded-lg\">\r\n                            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                                <h3 className=\"text-lg font-medium text-gray-900\">🔒 Encryption & Security Tools</h3>\r\n                                <p className=\"text-sm text-gray-500 mt-1\">Secure patient records with advanced encryption</p>\r\n                            </div>\r\n                            <div className=\"p-6\">\r\n                                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                                    <div className=\"space-y-4\">\r\n                                        <h4 className=\"font-medium text-gray-900\">🔐 PDF File Encryption</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Choose PDF files from your computer to encrypt</p>\r\n                                        <div className=\"space-y-4\">\r\n                                            <div className=\"p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\r\n                                                <div className=\"text-center\">\r\n                                                    <span className=\"text-4xl mb-4 block\">🔒</span>\r\n                                                    <h5 className=\"font-medium text-gray-900 mb-2\">Encrypt PDF Files</h5>\r\n                                                    <p className=\"text-sm text-gray-600 mb-4\">Select PDF files from your computer to encrypt with password protection</p>\r\n                                                    <input\r\n                                                        type=\"file\"\r\n                                                        accept=\".pdf\"\r\n                                                        multiple\r\n                                                        onChange={handleFileSelection}\r\n                                                        className=\"hidden\"\r\n                                                        id=\"pdf-file-input\"\r\n                                                    />\r\n                                                    <label\r\n                                                        htmlFor=\"pdf-file-input\"\r\n                                                        className=\"bg-green-600 text-white px-4 py-2 rounded cursor-pointer hover:bg-green-700 inline-block\"\r\n                                                    >\r\n                                                        📁 Choose PDF Files to Encrypt\r\n                                                    </label>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {selectedFiles.length > 0 && (\r\n                                                <div className=\"p-4 border rounded-lg bg-blue-50\">\r\n                                                    <h6 className=\"font-medium text-blue-900 mb-2\">Selected Files ({selectedFiles.length})</h6>\r\n                                                    <div className=\"space-y-2\">\r\n                                                        {selectedFiles.map((file, index) => (\r\n                                                            <div key={index} className=\"flex items-center justify-between p-2 bg-white rounded\">\r\n                                                                <div className=\"flex items-center space-x-2\">\r\n                                                                    <span className=\"text-blue-600\">📄</span>\r\n                                                                    <span className=\"text-sm font-medium\">{file.name}</span>\r\n                                                                    <span className=\"text-xs text-gray-500\">({Math.round(file.size / 1024)} KB)</span>\r\n                                                                </div>\r\n                                                                <button\r\n                                                                    onClick={() => removeSelectedFile(index)}\r\n                                                                    className=\"text-red-600 hover:text-red-800 text-xs\"\r\n                                                                >\r\n                                                                    ❌ Remove\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        ))}\r\n                                                    </div>\r\n                                                    <button\r\n                                                        onClick={handleEncryptSelectedFiles}\r\n                                                        className=\"w-full mt-3 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n                                                    >\r\n                                                        🔒 Encrypt Selected Files\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            <div className=\"p-4 border rounded-lg bg-orange-50\">\r\n                                                <h6 className=\"font-medium text-orange-900 mb-2\">📋 Quick Export & Encrypt Workflow</h6>\r\n                                                <p className=\"text-sm text-orange-700 mb-3\">\r\n                                                    1. Export patient records as PDF from the Medical Records tab<br/>\r\n                                                    2. Come back to Security Tools<br/>\r\n                                                    3. Select the downloaded PDF files to encrypt\r\n                                                </p>\r\n                                                <button\r\n                                                    onClick={() => setActiveTab('records')}\r\n                                                    className=\"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700\"\r\n                                                >\r\n                                                    📋 Go to Medical Records\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-4\">\r\n                                        <h4 className=\"font-medium text-gray-900\">📄 PDF Export Tools</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Export patient records as PDF files (unencrypted)</p>\r\n                                        <div className=\"p-4 border rounded-lg bg-purple-50\">\r\n                                            <div className=\"space-y-3\">\r\n                                                <div className=\"flex items-center justify-between\">\r\n                                                    <span className=\"text-sm font-medium text-purple-800\">Quick Patient Export</span>\r\n                                                    <Badge variant=\"primary\" size=\"sm\">🔐 CONFIDENTIAL</Badge>\r\n                                                </div>\r\n                                                <p className=\"text-xs text-purple-700\">Export records with CONFIDENTIAL watermark (encryption done separately)</p>\r\n                                                <div className=\"grid grid-cols-2 gap-2\">\r\n                                                    {myPatients.slice(0, 2).map((patient) => {\r\n                                                        const patientRecordCount = recentRecords.filter(r => r.patientId === patient.id).length;\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={patient.id}\r\n                                                                onClick={() => handleDownloadPatientPDF(patient.id)}\r\n                                                                className=\"bg-purple-600 text-white px-3 py-2 rounded text-xs hover:bg-purple-700 flex items-center justify-center\"\r\n                                                                disabled={patientRecordCount === 0}\r\n                                                            >\r\n                                                                📄 {patient.name.split(' ')[0]} ({patientRecordCount})\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                                <button\r\n                                                    onClick={() => {\r\n                                                        if (recentRecords.length > 0) {\r\n                                                            handleDownloadPDF(recentRecords[0].id);\r\n                                                        } else {\r\n                                                            alert('No records available for download');\r\n                                                        }\r\n                                                    }}\r\n                                                    className=\"w-full bg-purple-700 text-white px-4 py-2 rounded text-sm hover:bg-purple-800\"\r\n                                                >\r\n                                                    📄 Download Latest Record PDF\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <h4 className=\"font-medium text-gray-900\">�📋 Clipboard Security</h4>\r\n                                        <p className=\"text-sm text-gray-600\">Monitor clipboard for suspicious wallet addresses</p>\r\n                                        <div className=\"p-4 border rounded-lg\">\r\n                                            <div className=\"flex items-center justify-between mb-3\">\r\n                                                <span className=\"text-sm font-medium\">Clipboard Monitoring</span>\r\n                                                <Badge variant={clipboardMonitoring ? 'success' : 'secondary'} size=\"sm\">\r\n                                                    {clipboardMonitoring ? 'Active' : 'Inactive'}\r\n                                                </Badge>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={toggleClipboardMonitoring}\r\n                                                className={`w-full px-4 py-2 rounded text-sm ${clipboardMonitoring\r\n                                                    ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                                                    : 'bg-blue-600 hover:bg-blue-700 text-white'\r\n                                                    }`}\r\n                                            >\r\n                                                {clipboardMonitoring ? '⏹️ Stop Monitoring' : '🔍 Start Monitoring'}\r\n                                            </button>\r\n                                            <div className=\"mt-3 text-xs text-gray-500\">\r\n                                                <p>• Detects cryptocurrency wallet addresses</p>\r\n                                                <p>• Alerts on suspicious clipboard activity</p>\r\n                                                <p>• Protects against clipboard hijacking</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n                                    <div className=\"flex items-start\">\r\n                                        <span className=\"text-yellow-600 text-lg mr-2\">⚠️</span>\r\n                                        <div>\r\n                                            <h5 className=\"font-medium text-yellow-800\">Security Notice</h5>\r\n                                            <p className=\"text-sm text-yellow-700 mt-1\">\r\n                                                Always ensure patient records are encrypted before transmission.\r\n                                                Use blockchain verification for data integrity and monitor for suspicious activities.\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </main>\r\n\r\n            {/* Create Record Modal */}\r\n            {showCreateRecordModal && (\r\n                <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n                    <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n                        <div className=\"mt-3\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Create New Medical Record</h3>\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Patient</label>\r\n                                    <select\r\n                                        value={newRecordForm.patientId}\r\n                                        onChange={(e) => setNewRecordForm(prev => ({ ...prev, patientId: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                    >\r\n                                        <option value=\"\">Select Patient</option>\r\n                                        {myPatients.map((patient) => (\r\n                                            <option key={patient.id} value={patient.id}>{patient.name}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Title</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={newRecordForm.title}\r\n                                        onChange={(e) => setNewRecordForm(prev => ({ ...prev, title: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        placeholder=\"Record title\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Diagnosis</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={newRecordForm.diagnosis}\r\n                                        onChange={(e) => setNewRecordForm(prev => ({ ...prev, diagnosis: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        placeholder=\"Diagnosis\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Prescription</label>\r\n                                    <textarea\r\n                                        value={newRecordForm.prescription}\r\n                                        onChange={(e) => setNewRecordForm(prev => ({ ...prev, prescription: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        rows={3}\r\n                                        placeholder=\"Prescription details\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n                                    <textarea\r\n                                        value={newRecordForm.description}\r\n                                        onChange={(e) => setNewRecordForm(prev => ({ ...prev, description: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        rows={3}\r\n                                        placeholder=\"Additional notes\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end space-x-3 mt-6\">\r\n                                <button\r\n                                    onClick={() => setShowCreateRecordModal(false)}\r\n                                    className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleSaveRecord}\r\n                                    className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                                >\r\n                                    Create Record\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Insurance Claim Modal */}\r\n            {showClaimModal && (\r\n                <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n                    <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n                        <div className=\"mt-3\">\r\n                            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Submit Insurance Claim</h3>\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Patient</label>\r\n                                    <select\r\n                                        value={newClaimForm.patientId}\r\n                                        onChange={(e) => setNewClaimForm(prev => ({ ...prev, patientId: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                    >\r\n                                        <option value=\"\">Select Patient</option>\r\n                                        {myPatients.map((patient) => (\r\n                                            <option key={patient.id} value={patient.id}>{patient.name}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Insurance Provider</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={newClaimForm.insuranceProvider}\r\n                                        onChange={(e) => setNewClaimForm(prev => ({ ...prev, insuranceProvider: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        placeholder=\"Insurance company name\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Claim Amount ($)</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={newClaimForm.amount}\r\n                                        onChange={(e) => setNewClaimForm(prev => ({ ...prev, amount: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        placeholder=\"0.00\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n                                    <textarea\r\n                                        value={newClaimForm.description}\r\n                                        onChange={(e) => setNewClaimForm(prev => ({ ...prev, description: e.target.value }))}\r\n                                        className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                                        rows={4}\r\n                                        placeholder=\"Claim description and details\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-end space-x-3 mt-6\">\r\n                                <button\r\n                                    onClick={() => setShowClaimModal(false)}\r\n                                    className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleSaveClaim}\r\n                                    className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\r\n                                >\r\n                                    Submit Claim\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DoctorDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}