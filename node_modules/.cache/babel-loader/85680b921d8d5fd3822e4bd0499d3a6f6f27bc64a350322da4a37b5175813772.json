{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BiometricLogin=_ref=>{let{onSuccess,onError,className=''}=_ref;const[isSupported,setIsSupported]=useState(false);const[isAuthenticating,setIsAuthenticating]=useState(false);const[availableMethods,setAvailableMethods]=useState([]);useEffect(()=>{checkBiometricSupport();},[]);const checkBiometricSupport=async()=>{if('credentials'in navigator&&'create'in navigator.credentials){try{// Check if WebAuthn is supported\nawait navigator.credentials.get({publicKey:{challenge:new Uint8Array(32),allowCredentials:[],timeout:60000}}).catch(()=>false);setIsSupported(true);// Simulate available biometric methods\nconst methods=['fingerprint','face-id','touch-id'];setAvailableMethods(methods);}catch(error){setIsSupported(false);}}};const authenticateWithBiometric=async method=>{setIsAuthenticating(true);try{// Simulate biometric authentication\nawait new Promise(resolve=>setTimeout(resolve,2000));// In real implementation, use WebAuthn API\nconst success=Math.random()>0.2;// 80% success rate for demo\nif(success){onSuccess();}else{onError('Biometric authentication failed. Please try again.');}}catch(error){onError(\"Authentication error: \".concat(error instanceof Error?error.message:'Unknown error'));}finally{setIsAuthenticating(false);}};const getBiometricIcon=method=>{switch(method){case'fingerprint':return'üëÜ';case'face-id':return'üë§';case'touch-id':return'‚úã';default:return'üîí';}};const getBiometricName=method=>{switch(method){case'fingerprint':return'Fingerprint';case'face-id':return'Face ID';case'touch-id':return'Touch ID';default:return'Biometric';}};if(!isSupported){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 bg-gray-50 rounded-lg \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\uD83D\\uDEAB\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Biometric Authentication Not Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Your device doesn't support biometric authentication or it's not enabled.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\uD83D\\uDEE1\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Secure Biometric Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Access your healthcare data securely with biometric authentication\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:availableMethods.map(method=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>authenticateWithBiometric(method),disabled:isAuthenticating,className:\"w-full flex items-center justify-center p-4 border-2 rounded-lg transition-colors \".concat(isAuthenticating?'border-gray-300 bg-gray-100 cursor-not-allowed':'border-blue-300 bg-blue-50 hover:bg-blue-100 hover:border-blue-400'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mr-3\",children:getBiometricIcon(method)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:isAuthenticating?'Authenticating...':\"Login with \".concat(getBiometricName(method))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:isAuthenticating?'Please complete biometric scan':'Tap to authenticate'})]}),isAuthenticating&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 animate-spin text-blue-600\",children:\"\\u23F3\"})]})},method))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 text-lg mr-2\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Enhanced Security:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-1 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Your biometric data never leaves your device\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Each authentication creates a unique cryptographic signature\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Multi-factor authentication for healthcare compliance\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Protected by HIPAA-compliant biometric security\"})})]});};export default BiometricLogin;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","BiometricLogin","_ref","onSuccess","onError","className","isSupported","setIsSupported","isAuthenticating","setIsAuthenticating","availableMethods","setAvailableMethods","checkBiometricSupport","navigator","credentials","get","publicKey","challenge","Uint8Array","allowCredentials","timeout","catch","methods","error","authenticateWithBiometric","method","Promise","resolve","setTimeout","success","Math","random","concat","Error","message","getBiometricIcon","getBiometricName","children","map","onClick","disabled"],"sources":["D:/DATA/CAREER/INTERNSHIPS/EMRChains Internship NSTP/PROJECTS/HEALTHCARE_SYSTEM/src/components/Auth/EnhancedBiometricLogin.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\ninterface BiometricLoginProps {\r\n    onSuccess: () => void;\r\n    onError: (error: string) => void;\r\n    className?: string;\r\n}\r\n\r\nconst BiometricLogin: React.FC<BiometricLoginProps> = ({\r\n    onSuccess,\r\n    onError,\r\n    className = ''\r\n}) => {\r\n    const [isSupported, setIsSupported] = useState(false);\r\n    const [isAuthenticating, setIsAuthenticating] = useState(false);\r\n    const [availableMethods, setAvailableMethods] = useState<string[]>([]);\r\n\r\n    useEffect(() => {\r\n        checkBiometricSupport();\r\n    }, []);\r\n\r\n    const checkBiometricSupport = async () => {\r\n        if ('credentials' in navigator && 'create' in navigator.credentials) {\r\n            try {\r\n                // Check if WebAuthn is supported\r\n                await (navigator.credentials as any).get({\r\n                    publicKey: {\r\n                        challenge: new Uint8Array(32),\r\n                        allowCredentials: [],\r\n                        timeout: 60000\r\n                    }\r\n                }).catch(() => false);\r\n\r\n                setIsSupported(true);\r\n\r\n                // Simulate available biometric methods\r\n                const methods = ['fingerprint', 'face-id', 'touch-id'];\r\n                setAvailableMethods(methods);\r\n            } catch (error) {\r\n                setIsSupported(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const authenticateWithBiometric = async (method: string) => {\r\n        setIsAuthenticating(true);\r\n\r\n        try {\r\n            // Simulate biometric authentication\r\n            await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n            // In real implementation, use WebAuthn API\r\n            const success = Math.random() > 0.2; // 80% success rate for demo\r\n\r\n            if (success) {\r\n                onSuccess();\r\n            } else {\r\n                onError('Biometric authentication failed. Please try again.');\r\n            }\r\n        } catch (error) {\r\n            onError(`Authentication error: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n        } finally {\r\n            setIsAuthenticating(false);\r\n        }\r\n    };\r\n\r\n    const getBiometricIcon = (method: string): string => {\r\n        switch (method) {\r\n            case 'fingerprint': return 'üëÜ';\r\n            case 'face-id': return 'üë§';\r\n            case 'touch-id': return '‚úã';\r\n            default: return 'üîí';\r\n        }\r\n    };\r\n\r\n    const getBiometricName = (method: string): string => {\r\n        switch (method) {\r\n            case 'fingerprint': return 'Fingerprint';\r\n            case 'face-id': return 'Face ID';\r\n            case 'touch-id': return 'Touch ID';\r\n            default: return 'Biometric';\r\n        }\r\n    };\r\n\r\n    if (!isSupported) {\r\n        return (\r\n            <div className={`p-6 bg-gray-50 rounded-lg ${className}`}>\r\n                <div className=\"text-center\">\r\n                    <div className=\"text-4xl mb-4\">üö´</div>\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                        Biometric Authentication Not Available\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                        Your device doesn't support biometric authentication or it's not enabled.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={`space-y-4 ${className}`}>\r\n            <div className=\"text-center mb-6\">\r\n                <div className=\"text-4xl mb-2\">üõ°Ô∏è</div>\r\n                <h3 className=\"text-lg font-medium text-gray-900\">Secure Biometric Login</h3>\r\n                <p className=\"text-sm text-gray-600\">\r\n                    Access your healthcare data securely with biometric authentication\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n                {availableMethods.map((method) => (\r\n                    <button\r\n                        key={method}\r\n                        onClick={() => authenticateWithBiometric(method)}\r\n                        disabled={isAuthenticating}\r\n                        className={`w-full flex items-center justify-center p-4 border-2 rounded-lg transition-colors ${isAuthenticating\r\n                                ? 'border-gray-300 bg-gray-100 cursor-not-allowed'\r\n                                : 'border-blue-300 bg-blue-50 hover:bg-blue-100 hover:border-blue-400'\r\n                            }`}\r\n                    >\r\n                        <div className=\"flex items-center\">\r\n                            <span className=\"text-2xl mr-3\">{getBiometricIcon(method)}</span>\r\n                            <div className=\"text-left\">\r\n                                <div className=\"font-medium text-gray-900\">\r\n                                    {isAuthenticating ? 'Authenticating...' : `Login with ${getBiometricName(method)}`}\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-600\">\r\n                                    {isAuthenticating ? 'Please complete biometric scan' : 'Tap to authenticate'}\r\n                                </div>\r\n                            </div>\r\n                            {isAuthenticating && (\r\n                                <div className=\"ml-3 animate-spin text-blue-600\">‚è≥</div>\r\n                            )}\r\n                        </div>\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                <div className=\"flex items-start\">\r\n                    <div className=\"text-green-600 text-lg mr-2\">üîí</div>\r\n                    <div className=\"text-sm text-green-700\">\r\n                        <strong>Enhanced Security:</strong>\r\n                        <ul className=\"mt-1 space-y-1\">\r\n                            <li>‚Ä¢ Your biometric data never leaves your device</li>\r\n                            <li>‚Ä¢ Each authentication creates a unique cryptographic signature</li>\r\n                            <li>‚Ä¢ Multi-factor authentication for healthcare compliance</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n                <p className=\"text-xs text-gray-500\">\r\n                    Protected by HIPAA-compliant biometric security\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BiometricLogin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}