{"ast":null,"code":"import _objectSpread from\"D:/DATA/CAREER/INTERNSHIPS/EMRChains Internship NSTP/PROJECTS/HEALTHCARE_SYSTEM/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{initializeApp}from'firebase/app';import{getDatabase,ref,push,set,onValue,off,query,orderByChild,equalTo}from'firebase/database';// Firebase configuration (you would replace with your actual config)\nconst firebaseConfig={apiKey:\"demo-api-key\",authDomain:\"healthcare-demo.firebaseapp.com\",databaseURL:\"https://healthcare-demo-default-rtdb.firebaseio.com\",projectId:\"healthcare-demo\",storageBucket:\"healthcare-demo.appspot.com\",messagingSenderId:\"123456789\",appId:\"1:123456789:web:abcdef123456\"};// Initialize Firebase\nconst app=initializeApp(firebaseConfig);const database=getDatabase(app);export class FirebaseService{// Medical Records\nstatic async addMedicalRecord(record){try{const recordsRef=ref(database,'medicalRecords');const newRecordRef=push(recordsRef);const recordWithId=_objectSpread(_objectSpread({},record),{},{id:newRecordRef.key});await set(newRecordRef,recordWithId);return newRecordRef.key;}catch(error){console.error('Error adding medical record:',error);throw error;}}static subscribeMedicalRecords(callback){const recordsRef=ref(database,'medicalRecords');const unsubscribe=onValue(recordsRef,snapshot=>{const data=snapshot.val();const records=data?Object.values(data):[];callback(records);});return()=>off(recordsRef,'value',unsubscribe);}static subscribePatientRecords(patientId,callback){const recordsRef=ref(database,'medicalRecords');const patientRecordsQuery=query(recordsRef,orderByChild('patientId'),equalTo(patientId));const unsubscribe=onValue(patientRecordsQuery,snapshot=>{const data=snapshot.val();const records=data?Object.values(data):[];callback(records);});return()=>off(recordsRef,'value',unsubscribe);}static subscribeDoctorRecords(doctorId,callback){const recordsRef=ref(database,'medicalRecords');const doctorRecordsQuery=query(recordsRef,orderByChild('doctorId'),equalTo(doctorId));const unsubscribe=onValue(doctorRecordsQuery,snapshot=>{const data=snapshot.val();const records=data?Object.values(data):[];callback(records);});return()=>off(recordsRef,'value',unsubscribe);}// Patients\nstatic async addPatient(patient){try{const patientsRef=ref(database,'patients');const newPatientRef=push(patientsRef);const patientWithId=_objectSpread(_objectSpread({},patient),{},{id:newPatientRef.key});await set(newPatientRef,patientWithId);return newPatientRef.key;}catch(error){console.error('Error adding patient:',error);throw error;}}static subscribePatients(callback){const patientsRef=ref(database,'patients');const unsubscribe=onValue(patientsRef,snapshot=>{const data=snapshot.val();const patients=data?Object.values(data):[];callback(patients);});return()=>off(patientsRef,'value',unsubscribe);}// Insurance Claims\nstatic async addInsuranceClaim(claim){try{const claimsRef=ref(database,'insuranceClaims');const newClaimRef=push(claimsRef);const claimWithId=_objectSpread(_objectSpread({},claim),{},{id:newClaimRef.key});await set(newClaimRef,claimWithId);return newClaimRef.key;}catch(error){console.error('Error adding insurance claim:',error);throw error;}}static subscribeInsuranceClaims(callback){const claimsRef=ref(database,'insuranceClaims');const unsubscribe=onValue(claimsRef,snapshot=>{const data=snapshot.val();const claims=data?Object.values(data):[];callback(claims);});return()=>off(claimsRef,'value',unsubscribe);}}","map":{"version":3,"names":["initializeApp","getDatabase","ref","push","set","onValue","off","query","orderByChild","equalTo","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","database","FirebaseService","addMedicalRecord","record","recordsRef","newRecordRef","recordWithId","_objectSpread","id","key","error","console","subscribeMedicalRecords","callback","unsubscribe","snapshot","data","val","records","Object","values","subscribePatientRecords","patientId","patientRecordsQuery","subscribeDoctorRecords","doctorId","doctorRecordsQuery","addPatient","patient","patientsRef","newPatientRef","patientWithId","subscribePatients","patients","addInsuranceClaim","claim","claimsRef","newClaimRef","claimWithId","subscribeInsuranceClaims","claims"],"sources":["D:/DATA/CAREER/INTERNSHIPS/EMRChains Internship NSTP/PROJECTS/HEALTHCARE_SYSTEM/src/services/firebaseService.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, push, set, onValue, off, query, orderByChild, equalTo } from 'firebase/database';\r\nimport { MedicalRecord, Patient, InsuranceClaim } from '../types';\r\n\r\n// Firebase configuration (you would replace with your actual config)\r\nconst firebaseConfig = {\r\n  apiKey: \"demo-api-key\",\r\n  authDomain: \"healthcare-demo.firebaseapp.com\",\r\n  databaseURL: \"https://healthcare-demo-default-rtdb.firebaseio.com\",\r\n  projectId: \"healthcare-demo\",\r\n  storageBucket: \"healthcare-demo.appspot.com\",\r\n  messagingSenderId: \"123456789\",\r\n  appId: \"1:123456789:web:abcdef123456\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst database = getDatabase(app);\r\n\r\nexport class FirebaseService {\r\n  // Medical Records\r\n  static async addMedicalRecord(record: Omit<MedicalRecord, 'id'>): Promise<string> {\r\n    try {\r\n      const recordsRef = ref(database, 'medicalRecords');\r\n      const newRecordRef = push(recordsRef);\r\n      const recordWithId = { ...record, id: newRecordRef.key };\r\n      await set(newRecordRef, recordWithId);\r\n      return newRecordRef.key!;\r\n    } catch (error) {\r\n      console.error('Error adding medical record:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static subscribeMedicalRecords(callback: (records: MedicalRecord[]) => void): () => void {\r\n    const recordsRef = ref(database, 'medicalRecords');\r\n    const unsubscribe = onValue(recordsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const records: MedicalRecord[] = data ? Object.values(data) : [];\r\n      callback(records);\r\n    });\r\n\r\n    return () => off(recordsRef, 'value', unsubscribe);\r\n  }\r\n\r\n  static subscribePatientRecords(patientId: string, callback: (records: MedicalRecord[]) => void): () => void {\r\n    const recordsRef = ref(database, 'medicalRecords');\r\n    const patientRecordsQuery = query(recordsRef, orderByChild('patientId'), equalTo(patientId));\r\n    \r\n    const unsubscribe = onValue(patientRecordsQuery, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const records: MedicalRecord[] = data ? Object.values(data) : [];\r\n      callback(records);\r\n    });\r\n\r\n    return () => off(recordsRef, 'value', unsubscribe);\r\n  }\r\n\r\n  static subscribeDoctorRecords(doctorId: string, callback: (records: MedicalRecord[]) => void): () => void {\r\n    const recordsRef = ref(database, 'medicalRecords');\r\n    const doctorRecordsQuery = query(recordsRef, orderByChild('doctorId'), equalTo(doctorId));\r\n    \r\n    const unsubscribe = onValue(doctorRecordsQuery, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const records: MedicalRecord[] = data ? Object.values(data) : [];\r\n      callback(records);\r\n    });\r\n\r\n    return () => off(recordsRef, 'value', unsubscribe);\r\n  }\r\n\r\n  // Patients\r\n  static async addPatient(patient: Omit<Patient, 'id'>): Promise<string> {\r\n    try {\r\n      const patientsRef = ref(database, 'patients');\r\n      const newPatientRef = push(patientsRef);\r\n      const patientWithId = { ...patient, id: newPatientRef.key };\r\n      await set(newPatientRef, patientWithId);\r\n      return newPatientRef.key!;\r\n    } catch (error) {\r\n      console.error('Error adding patient:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static subscribePatients(callback: (patients: Patient[]) => void): () => void {\r\n    const patientsRef = ref(database, 'patients');\r\n    const unsubscribe = onValue(patientsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const patients: Patient[] = data ? Object.values(data) : [];\r\n      callback(patients);\r\n    });\r\n\r\n    return () => off(patientsRef, 'value', unsubscribe);\r\n  }\r\n\r\n  // Insurance Claims\r\n  static async addInsuranceClaim(claim: Omit<InsuranceClaim, 'id'>): Promise<string> {\r\n    try {\r\n      const claimsRef = ref(database, 'insuranceClaims');\r\n      const newClaimRef = push(claimsRef);\r\n      const claimWithId = { ...claim, id: newClaimRef.key };\r\n      await set(newClaimRef, claimWithId);\r\n      return newClaimRef.key!;\r\n    } catch (error) {\r\n      console.error('Error adding insurance claim:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static subscribeInsuranceClaims(callback: (claims: InsuranceClaim[]) => void): () => void {\r\n    const claimsRef = ref(database, 'insuranceClaims');\r\n    const unsubscribe = onValue(claimsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      const claims: InsuranceClaim[] = data ? Object.values(data) : [];\r\n      callback(claims);\r\n    });\r\n\r\n    return () => off(claimsRef, 'value', unsubscribe);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}